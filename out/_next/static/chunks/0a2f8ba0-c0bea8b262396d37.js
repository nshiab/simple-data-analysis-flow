"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[770],{9647:function(a,b,c){c.d(b,{HH:function(){return ad},ZP:function(){return bI}});var d,e,f=c(5892),g=c(1890),h=c(7294),i=c(5113),j=c(533),k=c(7591),l=c(3838),m=c(6939),n=c(2487),o=["paid-pro","paid-sponsor","paid-enterprise","paid-custom"];function p(a){var b=a.proOptions,c=a.position;if(null!=b&&b.account&&o.includes(null==b?void 0:b.account)&&null!=b&&b.hideAttribution)return null;var d="".concat(void 0===c?"bottom-right":c).split("-");return h.createElement("div",{className:(0,i.Z)(["react-flow__attribution"].concat((0,g._)(d))),"data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev/pricing"},h.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer"},"React Flow"))}var q=["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"];function r(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}var s=function(a){var b=a.x,c=a.y,d=a.label,e=a.labelStyle,j=a.labelShowBg,k=a.labelBgStyle,l=a.labelBgPadding,m=void 0===l?[2,4]:l,n=a.labelBgBorderRadius,o=void 0===n?2:n,p=a.children,s=a.className,t=(0,g.a)(a,q),u=(0,h.useRef)(null),v=(0,h.useState)({x:0,y:0,width:0,height:0}),w=(0,f._)(v,2),x=w[0],y=w[1],z=(0,i.Z)(["react-flow__edge-textwrapper",s]);return((0,h.useEffect)(function(){if(u.current){var a=u.current.getBBox();y({x:a.x,y:a.y,width:a.width,height:a.height})}},[d]),void 0!==d&&d)?h.createElement("g",function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?r(Object(c),!0).forEach(function(b){(0,f.a)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):r(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({transform:"translate(".concat(b-x.width/2," ").concat(c-x.height/2,")"),className:z},t),(void 0===j||j)&&h.createElement("rect",{width:x.width+2*m[0],x:-m[0],y:-m[1],height:x.height+2*m[1],className:"react-flow__edge-textbg",style:void 0===k?{}:k,rx:o,ry:o}),h.createElement("text",{className:"react-flow__edge-text",y:x.height/2,dy:"0.3em",ref:u,style:void 0===e?{}:e},d),p):null},t=(0,h.memo)(s),u=function(a){var b=a.path,c=a.centerX,d=a.centerY,e=a.label,f=a.labelStyle,g=a.labelShowBg,i=a.labelBgStyle,j=a.labelBgPadding,k=a.labelBgBorderRadius,l=a.style,m=a.markerEnd,n=a.markerStart,o=e?h.createElement(t,{x:c,y:d,label:e,labelStyle:f,labelShowBg:g,labelBgStyle:i,labelBgPadding:j,labelBgBorderRadius:k}):null;return h.createElement(h.Fragment,null,h.createElement("path",{style:l,d:b,className:"react-flow__edge-path",markerEnd:m,markerStart:n}),o)};function v(a){var b,c,d=a.pos,e=a.x1,g=a.y1,h=a.x2,i=a.y2;switch(d){case f.P.Left:case f.P.Right:b=.5*(e+h),c=g;break;case f.P.Top:case f.P.Bottom:b=e,c=.5*(g+i)}return[b,c]}function w(a){var b=a.sourceX,c=a.sourceY,d=a.sourcePosition,e=void 0===d?f.P.Bottom:d,g=a.targetX,h=a.targetY,i=a.targetPosition,j=void 0===i?f.P.Top:i,k=v({pos:e,x1:b,y1:c,x2:g,y2:h}),l=(0,f._)(k,2),m=l[0],n=l[1],o=v({pos:j,x1:g,y1:h,x2:b,y2:c}),p=(0,f._)(o,2),q=p[0],r=p[1];return"M".concat(b,",").concat(c," C").concat(m,",").concat(n," ").concat(q,",").concat(r," ").concat(g,",").concat(h)}var x=(0,h.memo)(function(a){var b,c,d,e,g,i,j,k,l,m,n,o,p,q,r,s,t,x,y,z=a.sourceX,A=a.sourceY,B=a.targetX,C=a.targetY,D=a.sourcePosition,E=void 0===D?f.P.Bottom:D,F=a.targetPosition,G=void 0===F?f.P.Top:F,H=a.label,I=a.labelStyle,J=a.labelShowBg,K=a.labelBgStyle,L=a.labelBgPadding,M=a.labelBgBorderRadius,N=a.style,O=a.markerEnd,P=a.markerStart,Q={sourceX:z,sourceY:A,sourcePosition:E,targetX:B,targetY:C,targetPosition:G},R=w(Q),S=(c=(b=Q).sourceX,d=b.sourceY,e=b.sourcePosition,g=void 0===e?f.P.Bottom:e,i=b.targetX,j=b.targetY,k=b.targetPosition,l=void 0===k?f.P.Top:k,m=v({pos:g,x1:c,y1:d,x2:i,y2:j}),n=(0,f._)(m,2),o=n[0],p=n[1],q=v({pos:l,x1:i,y1:j,x2:c,y2:d}),r=(0,f._)(q,2),s=r[0],t=r[1],x=.125*c+.375*o+.375*s+.125*i,y=.125*d+.375*p+.375*t+.125*j,[x,y,Math.abs(x-c),Math.abs(y-d)]),T=(0,f._)(S,2),U=T[0],V=T[1];return h.createElement(u,{path:R,centerX:U,centerY:V,label:H,labelStyle:I,labelShowBg:J,labelBgStyle:K,labelBgPadding:L,labelBgBorderRadius:M,style:N,markerEnd:O,markerStart:P})});function y(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}var z=[f.P.Left,f.P.Right],A=function(a){var b=a.sourceX,c=a.sourceY,d=a.targetX,e=a.targetY,g=a.sourcePosition,h=void 0===g?f.P.Bottom:g,i=a.targetPosition,j=void 0===i?f.P.Top:i,k=z.includes(h),l=z.includes(j);if(k&&!l||l&&!k){var m=k?Math.abs(d-b):0,n=k?0:Math.abs(e-c);return[b>d?b-m:b+m,c<e?c+n:c-n,m,n]}var o=Math.abs(d-b)/2,p=Math.abs(e-c)/2;return[d<b?d+o:d-o,e<c?e+p:e-p,o,p]};function B(a,b,c){return void 0===c?c:function(d){c(d,function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?y(Object(c),!0).forEach(function(b){(0,f.a)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):y(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({},b().edges.find(function(b){return b.id===a})))}}var C=function(a,b,c){return"L ".concat(a,",").concat(b-c,"Q ").concat(a,",").concat(b," ").concat(a+c,",").concat(b)},D=function(a,b,c){return"L ".concat(a+c,",").concat(b,"Q ").concat(a,",").concat(b," ").concat(a,",").concat(b-c)},E=function(a,b,c){return"L ".concat(a,",").concat(b-c,"Q ").concat(a,",").concat(b," ").concat(a-c,",").concat(b)},F=function(a,b,c){return"L ".concat(a-c,",").concat(b,"Q ").concat(a,",").concat(b," ").concat(a,",").concat(b-c)},G=function(a,b,c){return"L ".concat(a+c,",").concat(b,"Q ").concat(a,",").concat(b," ").concat(a,",").concat(b+c)},H=function(a,b,c){return"L ".concat(a,",").concat(b+c,"Q ").concat(a,",").concat(b," ").concat(a+c,",").concat(b)},I=function(a,b,c){return"L ".concat(a,",").concat(b+c,"Q ").concat(a,",").concat(b," ").concat(a-c,",").concat(b)},J=function(a,b,c){return"L ".concat(a-c,",").concat(b,"Q ").concat(a,",").concat(b," ").concat(a,",").concat(b+c)};function K(a){var b=a.sourceX,c=a.sourceY,d=a.sourcePosition,e=void 0===d?f.P.Bottom:d,g=a.targetX,h=a.targetY,i=a.targetPosition,j=void 0===i?f.P.Top:i,k=a.borderRadius,l=void 0===k?5:k,m=a.centerX,n=a.centerY,o=A({sourceX:b,sourceY:c,targetX:g,targetY:h}),p=(0,f._)(o,4),q=p[0],r=p[1],s=p[2],t=p[3],u=Math.min(Math.min(l,Math.abs(g-b)),Math.min(l,Math.abs(h-c)),s,t),v=[f.P.Left,f.P.Right],w=void 0!==m?m:q,x=void 0!==n?n:r,y=null,z=null;return b<=g?(y=c<=h?C(b,x,u):H(b,x,u),z=c<=h?J(g,x,u):F(g,x,u)):(y=c<h?E(b,x,u):I(b,x,u),z=c<h?G(g,x,u):D(g,x,u)),v.includes(e)&&v.includes(j)?b<=g?(y=c<=h?J(w,c,u):F(w,c,u),z=c<=h?C(w,h,u):H(w,h,u)):(e===f.P.Right&&j===f.P.Left||e===f.P.Left&&j===f.P.Right||e===f.P.Left&&j===f.P.Left)&&(y=c<=h?G(w,c,u):D(w,c,u),z=c<=h?E(w,h,u):I(w,h,u)):v.includes(e)&&!v.includes(j)?(y=b<=g?c<=h?J(g,c,u):F(g,c,u):c<=h?G(g,c,u):D(g,c,u),z=""):!v.includes(e)&&v.includes(j)&&(y=b<=g?c<=h?C(b,h,u):H(b,h,u):c<=h?E(b,h,u):I(b,h,u),z=""),"M ".concat(b,",").concat(c).concat(y).concat(z,"L ").concat(g,",").concat(h)}var L=(0,h.memo)(function(a){var b=a.sourceX,c=a.sourceY,d=a.targetX,e=a.targetY,g=a.label,i=a.labelStyle,j=a.labelShowBg,k=a.labelBgStyle,l=a.labelBgPadding,m=a.labelBgBorderRadius,n=a.style,o=a.sourcePosition,p=void 0===o?f.P.Bottom:o,q=a.targetPosition,r=void 0===q?f.P.Top:q,s=a.markerEnd,t=a.markerStart,v=a.borderRadius,w=A({sourceX:b,sourceY:c,targetX:d,targetY:e,sourcePosition:p,targetPosition:r}),x=(0,f._)(w,2),y=x[0],z=x[1],B=K({sourceX:b,sourceY:c,sourcePosition:p,targetX:d,targetY:e,targetPosition:r,borderRadius:void 0===v?5:v});return h.createElement(u,{path:B,centerX:y,centerY:z,label:g,labelStyle:i,labelShowBg:j,labelBgStyle:k,labelBgPadding:l,labelBgBorderRadius:m,style:n,markerEnd:s,markerStart:t})});function M(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function N(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?M(Object(c),!0).forEach(function(b){(0,f.a)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):M(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var O=(0,h.memo)(function(a){return h.createElement(L,N(N({},a),{},{borderRadius:0}))}),P=(0,h.memo)(function(a){var b=a.sourceX,c=a.sourceY,d=a.targetX,e=a.targetY,f=a.label,g=a.labelStyle,i=a.labelShowBg,j=a.labelBgStyle,k=a.labelBgPadding,l=a.labelBgBorderRadius,m=a.style,n=a.markerEnd,o=a.markerStart,p=Math.abs(e-c)/2,q=Math.abs(d-b)/2,r="M ".concat(b,",").concat(c,"L ").concat(d,",").concat(e);return h.createElement(u,{path:r,centerX:d<b?d+q:d-q,centerY:e<c?e+p:e-p,label:f,labelStyle:g,labelShowBg:i,labelBgStyle:j,labelBgPadding:k,labelBgBorderRadius:l,style:m,markerEnd:n,markerStart:o})});function Q(a,b){return a>=0?.5*a:25*b*Math.sqrt(-a)}function R(a){var b,c,d=a.pos,e=a.x1,g=a.y1,h=a.x2,i=a.y2,j=a.c;switch(d){case f.P.Left:b=e-Q(e-h,j),c=g;break;case f.P.Right:b=e+Q(h-e,j),c=g;break;case f.P.Top:b=e,c=g-Q(g-i,j);break;case f.P.Bottom:b=e,c=g+Q(i-g,j)}return[b,c]}function S(a){var b=a.sourceX,c=a.sourceY,d=a.sourcePosition,e=void 0===d?f.P.Bottom:d,g=a.targetX,h=a.targetY,i=a.targetPosition,j=void 0===i?f.P.Top:i,k=a.curvature,l=void 0===k?.25:k,m=R({pos:e,x1:b,y1:c,x2:g,y2:h,c:l}),n=(0,f._)(m,2),o=n[0],p=n[1],q=R({pos:j,x1:g,y1:h,x2:b,y2:c,c:l}),r=(0,f._)(q,2),s=r[0],t=r[1];return"M".concat(b,",").concat(c," C").concat(o,",").concat(p," ").concat(s,",").concat(t," ").concat(g,",").concat(h)}var T=(0,h.memo)(function(a){var b,c,d,e,g,i,j,k,l,m,n,o,p,q,r,s,t,v,w,x,y,z=a.sourceX,A=a.sourceY,B=a.targetX,C=a.targetY,D=a.sourcePosition,E=void 0===D?f.P.Bottom:D,F=a.targetPosition,G=void 0===F?f.P.Top:F,H=a.label,I=a.labelStyle,J=a.labelShowBg,K=a.labelBgStyle,L=a.labelBgPadding,M=a.labelBgBorderRadius,N=a.style,O=a.markerEnd,P=a.markerStart,Q=a.curvature,T={sourceX:z,sourceY:A,sourcePosition:E,targetX:B,targetY:C,targetPosition:G,curvature:Q},U=S(T),V=(c=(b=T).sourceX,d=b.sourceY,e=b.sourcePosition,g=void 0===e?f.P.Bottom:e,i=b.targetX,j=b.targetY,k=b.targetPosition,l=void 0===k?f.P.Top:k,m=b.curvature,n=void 0===m?.25:m,o=R({pos:g,x1:c,y1:d,x2:i,y2:j,c:n}),p=(0,f._)(o,2),q=p[0],r=p[1],s=R({pos:l,x1:i,y1:j,x2:c,y2:d,c:n}),t=(0,f._)(s,2),v=t[0],w=t[1],x=.125*c+.375*q+.375*v+.125*i,y=.125*d+.375*r+.375*w+.125*j,[x,y,Math.abs(x-c),Math.abs(y-d)]),W=(0,f._)(V,2),X=W[0],Y=W[1];return h.createElement(u,{path:U,centerX:X,centerY:Y,label:H,labelStyle:I,labelShowBg:J,labelBgStyle:K,labelBgPadding:L,labelBgBorderRadius:M,style:N,markerEnd:O,markerStart:P})}),U=(0,h.createContext)(null),V=U.Provider;function W(a,b,c,d,e,g,h){var i=h.elementFromPoint(a.clientX,a.clientY),j=(null==i?void 0:i.classList.contains("target"))||!1,k=(null==i?void 0:i.classList.contains("source"))||!1,l={elementBelow:i,isValid:!1,connection:{source:null,target:null,sourceHandle:null,targetHandle:null},isHoveringHandle:!1};if(i&&(j||k)){l.isHoveringHandle=!0;var m=i.getAttribute("data-nodeid"),n=i.getAttribute("data-handleid"),o=c?{source:m,sourceHandle:n,target:d,targetHandle:e}:{source:d,sourceHandle:e,target:m,targetHandle:n};l.connection=o,(b!==f.C.Strict||c&&k|| !c&&j)&&(l.isValid=g(o))}return l}function X(a){null==a||a.classList.remove("react-flow__handle-valid"),null==a||a.classList.remove("react-flow__handle-connecting")}function Y(a){var b,c=a.event,d=a.handleId,e=a.nodeId,g=a.onConnect,h=a.isTarget,i=a.getState,j=a.setState,k=a.isValidConnection,l=a.elementEdgeUpdaterType,m=a.onEdgeUpdateEnd,n=c.target.closest(".react-flow"),o=(0,f.g)(c.target);if(o){var p=o.elementFromPoint(c.clientX,c.clientY),q=null==p?void 0:p.classList.contains("target"),r=null==p?void 0:p.classList.contains("source");if(n&&(q||r||l)){var s=i(),t=s.onConnectStart,u=s.connectionMode,v=l||(q?"target":"source"),w=n.getBoundingClientRect();j({connectionPosition:{x:c.clientX-w.left,y:c.clientY-w.top},connectionNodeId:e,connectionHandleId:d,connectionHandleType:v}),null==t||t(c,{nodeId:e,handleId:d,handleType:v}),o.addEventListener("mousemove",x),o.addEventListener("mouseup",y)}}function x(a){j({connectionPosition:{x:a.clientX-w.left,y:a.clientY-w.top}});var c=W(a,u,h,e,d,k,o),f=c.connection,g=c.elementBelow,i=c.isValid,l=c.isHoveringHandle;if(!l)return X(b);f.source!==f.target&&g&&(X(b),b=g,g.classList.add("react-flow__handle-connecting"),g.classList.toggle("react-flow__handle-valid",i))}function y(a){var c=i(),f=c.onConnectStop,n=c.onConnectEnd,p=W(a,u,h,e,d,k,o),q=p.connection,r=p.isValid;null==f||f(a),r&&(null==g||g(q)),null==n||n(a),l&&m&&m(a),X(b),j({connectionNodeId:null,connectionHandleId:null,connectionHandleType:null}),o.removeEventListener("mousemove",x),o.removeEventListener("mouseup",y)}}U.Consumer;var Z=["type","position","isValidConnection","isConnectable","id","onConnect","children","className","onMouseDown"];function $(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?$(Object(c),!0).forEach(function(b){(0,f.a)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):$(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var aa=function(){return!0},ab=function(a){return{connectionStartHandle:a.connectionStartHandle,connectOnClick:a.connectOnClick}},ac=(0,h.forwardRef)(function(a,b){var c=a.type,d=void 0===c?"source":c,e=a.position,k=void 0===e?f.P.Top:e,l=a.isValidConnection,m=void 0===l?aa:l,n=a.isConnectable,o=a.id,p=a.onConnect,q=a.children,r=a.className,s=a.onMouseDown,t=(0,g.a)(a,Z),u=(0,f.u)(),v=(0,h.useContext)(U),w=(0,f.b)(ab,j.Z),x=w.connectionStartHandle,y=w.connectOnClick,z=o||null,A="target"===d,B=function(a){var b=u.getState(),c=b.defaultEdgeOptions,d=b.onConnect,e=b.hasDefaultEdges,g=_(_({},c),a);if(e){var h=u.getState().edges;u.setState({edges:(0,f.c)(g,h)})}null==d||d(g),null==p||p(g)},C=function(a){0===a.button&&Y({event:a,handleId:z,nodeId:v,onConnect:B,isTarget:A,getState:u.getState,setState:u.setState,isValidConnection:m}),null==s||s(a)},D=function(a){var b=u.getState(),c=b.onClickConnectStart,e=b.onClickConnectStop,g=b.onClickConnectEnd,h=b.connectionMode;if(!x){null==c||c(a,{nodeId:v,handleId:z,handleType:d}),u.setState({connectionStartHandle:{nodeId:v,type:d,handleId:z}});return}var i=(0,f.g)(a.target),j=W(a,h,"target"===x.type,x.nodeId,x.handleId||null,m,i),k=j.connection,l=j.isValid;null==e||e(a),l&&B(k),null==g||g(a),u.setState({connectionStartHandle:null})};return h.createElement("div",_({"data-handleid":z,"data-nodeid":v,"data-handlepos":k,className:(0,i.Z)(["react-flow__handle","react-flow__handle-".concat(k),"nodrag",r,{source:!A,target:A,connectable:void 0===n||n,connecting:(null==x?void 0:x.nodeId)===v&&(null==x?void 0:x.handleId)===z&&(null==x?void 0:x.type)===d}]),onMouseDown:C,onClick:y?D:void 0,ref:b},t),q)});ac.displayName="Handle";var ad=(0,h.memo)(ac),ae=function(a){var b=a.data,c=a.isConnectable,d=a.targetPosition,e=void 0===d?f.P.Top:d,g=a.sourcePosition,i=void 0===g?f.P.Bottom:g;return h.createElement(h.Fragment,null,h.createElement(ad,{type:"target",position:e,isConnectable:c}),null==b?void 0:b.label,h.createElement(ad,{type:"source",position:i,isConnectable:c}))};ae.displayName="DefaultNode";var af=(0,h.memo)(ae),ag=function(a){var b=a.data,c=a.isConnectable,d=a.sourcePosition,e=void 0===d?f.P.Bottom:d;return h.createElement(h.Fragment,null,null==b?void 0:b.label,h.createElement(ad,{type:"source",position:e,isConnectable:c}))};ag.displayName="InputNode";var ah=(0,h.memo)(ag),ai=function(a){var b=a.data,c=a.isConnectable,d=a.targetPosition,e=void 0===d?f.P.Top:d;return h.createElement(h.Fragment,null,h.createElement(ad,{type:"target",position:e,isConnectable:c}),null==b?void 0:b.label)};ai.displayName="OutputNode";var aj=(0,h.memo)(ai),ak=function(a){return{selectedNodes:Array.from(a.nodeInternals.values()).filter(function(a){return a.selected}),selectedEdges:a.edges.filter(function(a){return a.selected})}},al=function(a,b){var c=a.selectedNodes.map(function(a){return a.id}),d=b.selectedNodes.map(function(a){return a.id}),e=a.selectedEdges.map(function(a){return a.id}),f=b.selectedEdges.map(function(a){return a.id});return(0,j.Z)(c,d)&&(0,j.Z)(e,f)},am=(0,h.memo)(function(a){var b=a.onSelectionChange,c=(0,f.b)(ak,al),d=c.selectedNodes,e=c.selectedEdges;return(0,h.useEffect)(function(){b({nodes:d,edges:e})},[d,e]),null}),an=function(a){return{setNodes:a.setNodes,setEdges:a.setEdges,setDefaultNodesAndEdges:a.setDefaultNodesAndEdges,setMinZoom:a.setMinZoom,setMaxZoom:a.setMaxZoom,setTranslateExtent:a.setTranslateExtent,setNodeExtent:a.setNodeExtent,reset:a.reset}};function ao(a,b){(0,h.useEffect)(function(){void 0!==a&&b(a)},[a])}function ap(a,b,c){(0,h.useEffect)(function(){void 0!==b&&c((0,f.a)({},a,b))},[b])}var aq=function(a){var b=a.nodes,c=a.edges,d=a.defaultNodes,e=a.defaultEdges,g=a.onConnect,i=a.onConnectStart,k=a.onConnectStop,l=a.onConnectEnd,m=a.onClickConnectStart,n=a.onClickConnectStop,o=a.onClickConnectEnd,p=a.nodesDraggable,q=a.nodesConnectable,r=a.minZoom,s=a.maxZoom,t=a.nodeExtent,u=a.onNodesChange,v=a.onEdgesChange,w=a.elementsSelectable,x=a.connectionMode,y=a.snapGrid,z=a.snapToGrid,A=a.translateExtent,B=a.connectOnClick,C=a.defaultEdgeOptions,D=a.fitView,E=a.fitViewOptions,F=a.onNodesDelete,G=a.onEdgesDelete,H=a.onNodeDrag,I=a.onNodeDragStart,J=a.onNodeDragStop,K=a.onSelectionDrag,L=a.onSelectionDragStart,M=a.onSelectionDragStop,N=(0,f.b)(an,j.Z),O=N.setNodes,P=N.setEdges,Q=N.setDefaultNodesAndEdges,R=N.setMinZoom,S=N.setMaxZoom,T=N.setTranslateExtent,U=N.setNodeExtent,V=N.reset,W=(0,f.u)();return(0,h.useEffect)(function(){return Q(d,e),function(){V()}},[]),ap("defaultEdgeOptions",C,W.setState),ap("connectionMode",x,W.setState),ap("onConnect",g,W.setState),ap("onConnectStart",i,W.setState),ap("onConnectStop",k,W.setState),ap("onConnectEnd",l,W.setState),ap("onClickConnectStart",m,W.setState),ap("onClickConnectStop",n,W.setState),ap("onClickConnectEnd",o,W.setState),ap("nodesDraggable",p,W.setState),ap("nodesConnectable",q,W.setState),ap("elementsSelectable",w,W.setState),ap("snapToGrid",z,W.setState),ap("snapGrid",y,W.setState),ap("onNodesChange",u,W.setState),ap("onEdgesChange",v,W.setState),ap("connectOnClick",B,W.setState),ap("fitViewOnInit",D,W.setState),ap("fitViewOnInitOptions",E,W.setState),ap("onNodesDelete",F,W.setState),ap("onEdgesDelete",G,W.setState),ap("onNodeDrag",H,W.setState),ap("onNodeDragStart",I,W.setState),ap("onNodeDragStop",J,W.setState),ap("onSelectionDrag",K,W.setState),ap("onSelectionDragStart",L,W.setState),ap("onSelectionDragStop",M,W.setState),ao(b,O),ao(c,P),ao(d,O),ao(e,P),ao(r,R),ao(s,S),ao(A,T),ao(t,U),null},ar=function(a){var b,c,d,e,g,j,k=a.className,l=a.position,m=a.centerX,n=a.centerY,o=a.radius,p=void 0===o?10:o;return h.createElement("circle",{className:(0,i.Z)(["react-flow__edgeupdater",k]),cx:(b=m,c=p,(d=l)===f.P.Left?b-c:d===f.P.Right?b+c:b),cy:(e=n,g=p,(j=l)===f.P.Top?e-g:j===f.P.Bottom?e+g:e),r:p,stroke:"transparent",fill:"transparent"})},as=function(a){var b=function(b){var c=b.id,d=b.className,e=b.type,g=b.data,j=b.onClick,k=b.onEdgeDoubleClick,l=b.selected,m=b.animated,n=b.label,o=b.labelStyle,p=b.labelShowBg,q=b.labelBgStyle,r=b.labelBgPadding,s=b.labelBgBorderRadius,t=b.style,u=b.source,v=b.target,w=b.sourceX,x=b.sourceY,y=b.targetX,z=b.targetY,A=b.sourcePosition,C=b.targetPosition,D=b.elementsSelectable,E=b.hidden,F=b.sourceHandleId,G=b.targetHandleId,H=b.onContextMenu,I=b.onMouseEnter,J=b.onMouseMove,K=b.onMouseLeave,L=b.edgeUpdaterRadius,M=b.onEdgeUpdate,N=b.onEdgeUpdateStart,O=b.onEdgeUpdateEnd,P=b.markerEnd,Q=b.markerStart,R=b.rfId,S=(0,h.useState)(!1),T=(0,f._)(S,2),U=T[0],V=T[1],W=(0,f.u)(),X=function(a){var b=W.getState(),d=b.edges,e=b.addSelectedEdges,f=d.find(function(a){return a.id===c});D&&(W.setState({nodesSelectionActive:!1}),e([c])),null==j||j(a,f)},Z=B(c,W.getState,k),$=B(c,W.getState,H),_=B(c,W.getState,I),aa=B(c,W.getState,J),ab=B(c,W.getState,K),ac=function(a,b){var d=b?"target":"source",e=function(){return!0},f=W.getState().edges.find(function(a){return a.id===c});null==N||N(a,f,d);var g=function(a){return null==M?void 0:M(f,a)};Y({event:a,handleId:(b?G:F)||null,nodeId:b?v:u,onConnect:g,isTarget:b,getState:W.getState,setState:W.setState,isValidConnection:e,elementEdgeUpdaterType:d,onEdgeUpdateEnd:O?function(a){return O(a,f,d)}:void 0})},ad=function(a){return ac(a,!0)},ae=function(a){return ac(a,!1)},af=function(){return V(!0)},ag=function(){return V(!1)},ah=(0,h.useMemo)(function(){return"url(#".concat((0,f.d)(Q,R),")")},[Q,R]),ai=(0,h.useMemo)(function(){return"url(#".concat((0,f.d)(P,R),")")},[P,R]);if(E)return null;var aj=void 0!==M,ak=(0,i.Z)(["react-flow__edge","react-flow__edge-".concat(e),d,{selected:l,animated:m,inactive:!D&&!j,updating:U}]);return h.createElement("g",{className:ak,onClick:X,onDoubleClick:Z,onContextMenu:$,onMouseEnter:_,onMouseMove:aa,onMouseLeave:ab},h.createElement(a,{id:c,source:u,target:v,selected:l,animated:m,label:n,labelStyle:o,labelShowBg:p,labelBgStyle:q,labelBgPadding:r,labelBgBorderRadius:s,data:g,style:t,sourceX:w,sourceY:x,targetX:y,targetY:z,sourcePosition:A,targetPosition:C,sourceHandleId:F,targetHandleId:G,markerStart:ah,markerEnd:ai}),aj&&h.createElement("g",{onMouseDown:ad,onMouseEnter:af,onMouseOut:ag},h.createElement(ar,{position:A,centerX:w,centerY:x,radius:L})),aj&&h.createElement("g",{onMouseDown:ae,onMouseEnter:af,onMouseOut:ag},h.createElement(ar,{position:C,centerX:y,centerY:z,radius:L})))};return b.displayName="EdgeWrapper",(0,h.memo)(b)};function at(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function au(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?at(Object(c),!0).forEach(function(b){(0,f.a)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):at(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function av(a){var b={default:as(a.default||T),straight:as(a.bezier||P),step:as(a.step||O),smoothstep:as(a.step||L),simplebezier:as(a.simplebezier||x)},c=Object.keys(a).filter(function(a){return!["default","bezier"].includes(a)}).reduce(function(b,c){return b[c]=as(a[c]||T),b},{});return au(au({},b),c)}function aw(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:null,d=((null==c?void 0:c.x)||0)+b.x,e=((null==c?void 0:c.y)||0)+b.y,g=(null==c?void 0:c.width)||b.width,h=(null==c?void 0:c.height)||b.height;switch(a){case f.P.Top:return{x:d+g/2,y:e};case f.P.Right:return{x:d+g,y:e+h/2};case f.P.Bottom:return{x:d+g/2,y:e+h};case f.P.Left:return{x:d,y:e+h/2}}}function ax(a,b){if(!a)return null;var c=null;return 1!==a.length&&b?b&&(c=a.find(function(a){return a.id===b})):c=a[0],void 0===c?null:c}var ay=function(a,b,c,d,e,f){var g=aw(c,a,b),h=aw(f,d,e);return{sourceX:g.x,sourceY:g.y,targetX:h.x,targetY:h.y}};function az(a,b){var c,d,e,g,h,i=a.get(b),j=(null==i?void 0:null===(c=i[f.i])|| void 0===c?void 0:c.handleBounds)||null,k=!i||!j||!i.width||!i.height|| void 0===(null===(d=i.positionAbsolute)|| void 0===d?void 0:d.x)|| void 0===(null===(e=i.positionAbsolute)|| void 0===e?void 0:e.y);return[{x:(null==i?void 0:null===(g=i.positionAbsolute)|| void 0===g?void 0:g.x)||0,y:(null==i?void 0:null===(h=i.positionAbsolute)|| void 0===h?void 0:h.y)||0,width:(null==i?void 0:i.width)||0,height:(null==i?void 0:i.height)||0},j,!k]}var aA="undefined"!=typeof document?document:null,aB=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:null,b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{target:aA},c=(0,h.useState)(!1),d=(0,f._)(c,2),e=d[0],i=d[1],j=(0,h.useRef)(new Set([])),k=(0,h.useMemo)(function(){if(null!==a){var b=(Array.isArray(a)?a:[a]).filter(function(a){return"string"==typeof a}).map(function(a){return a.split("+")}),c=b.reduce(function(a,b){return a.concat.apply(a,(0,g._)(b))},[]);return[b,c]}return[[],[]]},[a]),l=(0,f._)(k,2),m=l[0],n=l[1];return(0,h.useEffect)(function(){if(null!==a){var c,d,e=function(a){if(aE(a))return!1;var b=aD(a.code,n);j.current.add(a[b]),aC(m,j.current,!1)&&(a.preventDefault(),i(!0))},f=function(a){if(aE(a))return!1;var b=aD(a.code,n);aC(m,j.current,!0)?(i(!1),j.current.clear()):j.current.delete(a[b])},g=function(){j.current.clear(),i(!1)};return null==b||null===(c=b.target)|| void 0===c||c.addEventListener("keydown",e),null==b||null===(d=b.target)|| void 0===d||d.addEventListener("keyup",f),window.addEventListener("blur",g),function(){var a,c;null==b||null===(a=b.target)|| void 0===a||a.removeEventListener("keydown",e),null==b||null===(c=b.target)|| void 0===c||c.removeEventListener("keyup",f),window.removeEventListener("blur",g)}}},[a,i]),e};function aC(a,b,c){return a.filter(function(a){return c||a.length===b.size}).some(function(a){return a.every(function(a){return b.has(a)})})}function aD(a,b){return b.includes(a)?"code":"key"}function aE(a){var b=a.target;return["INPUT","SELECT","TEXTAREA"].includes(null==b?void 0:b.nodeName)||(null==b?void 0:b.hasAttribute("contenteditable"))}var aF=function(a){return{onNodesChange:a.onNodesChange,onEdgesChange:a.onEdgesChange}},aG=function(a){var b=a.deleteKeyCode,c=a.multiSelectionKeyCode,d=(0,f.u)(),e=(0,f.b)(aF,j.Z),i=e.onNodesChange,k=e.onEdgesChange,l=aB(b),m=aB(c);(0,h.useEffect)(function(){var a=d.getState(),b=a.nodeInternals,c=a.edges,e=a.hasDefaultNodes,h=a.hasDefaultEdges,j=a.onNodesDelete,m=a.onEdgesDelete,n=Array.from(b.values()).reduce(function(a,b){return!b.selected&&b.parentNode&&a.find(function(a){return a.id===b.parentNode})?a.push(b):b.selected&&a.push(b),a},[]),o=c.filter(function(a){return a.selected});if(l&&(n||o)){var p=(0,f.e)(n,c),q=[].concat((0,g._)(o),(0,g._)(p)),r=q.reduce(function(a,b){return a.includes(b.id)||a.push(b.id),a},[]);(h||e)&&(h&&d.setState({edges:c.filter(function(a){return!r.includes(a.id)})}),e&&(n.forEach(function(a){b.delete(a.id)}),d.setState({nodeInternals:new Map(b)}))),r.length>0&&(null==m||m(q),k)&&k(r.map(function(a){return{id:a,type:"remove"}})),n.length>0&&(null==j||j(n),i)&&i(n.map(function(a){return{id:a.id,type:"remove"}})),d.setState({nodesSelectionActive:!1})}},[l,i,k]),(0,h.useEffect)(function(){d.setState({multiSelectionActive:m})},[m])},aH=function(a){return{x:a.x,y:a.y,zoom:a.k}},aI=function(a,b){return a.target.closest(".".concat(b))},aJ=function(a){return{d3Zoom:a.d3Zoom,d3Selection:a.d3Selection,d3ZoomHandler:a.d3ZoomHandler}},aK=function(a){var b,c,d=a.onMove,e=a.onMoveStart,g=a.onMoveEnd,i=a.zoomOnScroll,n=void 0===i||i,o=a.zoomOnPinch,p=void 0===o||o,q=a.panOnScroll,r=void 0!==q&&q,s=a.panOnScrollSpeed,t=void 0===s?.5:s,u=a.panOnScrollMode,v=void 0===u?f.h.Free:u,w=a.zoomOnDoubleClick,x=void 0===w||w,y=a.selectionKeyPressed,z=a.elementsSelectable,A=a.panOnDrag,B=void 0===A||A,C=a.translateExtent,D=a.minZoom,E=a.maxZoom,F=a.defaultZoom,G=void 0===F?1:F,H=a.defaultPosition,I=void 0===H?[0,0]:H,J=a.zoomActivationKeyCode,K=a.preventScrolling,L=void 0===K||K,M=a.children,N=a.noWheelClassName,O=a.noPanClassName,P=(0,f.u)(),Q=(0,h.useRef)(!1),R=(0,h.useRef)(null),S=(0,h.useRef)({x:0,y:0,zoom:0}),T=(0,f.b)(aJ,j.Z),U=T.d3Zoom,V=T.d3Selection,W=T.d3ZoomHandler,X=aB(J);return b=R,c=(0,f.u)(),(0,h.useEffect)(function(){var a,d=function(){if(b.current){var a=(0,f.f)(b.current);c.setState({width:a.width||500,height:a.height||500})}};return d(),window.onresize=d,b.current&&(a=new ResizeObserver(function(){return d()})).observe(b.current),function(){window.onresize=null,a&&b.current&&a.unobserve(b.current)}},[]),(0,h.useEffect)(function(){if(R.current){var a,b=(0,k.sP)().scaleExtent([D,E]).translateExtent(C),c=(0,l.Z)(R.current).call(b),d=(0,f.j)(I[0],C[0][0],C[1][0]),e=(0,f.j)(I[1],C[0][1],C[1][1]),g=(0,f.j)(G,D,E),h=k.CR.translate(d,e).scale(g);b.transform(c,h),P.setState({d3Zoom:b,d3Selection:c,d3ZoomHandler:c.on("wheel.zoom"),transform:[d,e,g],domNode:null===(a=c.node())|| void 0===a?void 0:a.closest(".react-flow")})}},[]),(0,h.useEffect)(function(){V&&U&&(r&&!X?V.on("wheel",function(a){if(aI(a,N))return!1;a.preventDefault(),a.stopImmediatePropagation();var b=V.property("__zoom").k||1;if(a.ctrlKey&&p){var c=(0,m.Z)(a),d=-a.deltaY*(1===a.deltaMode?.05:a.deltaMode?1:.002)*10,e=b*Math.pow(2,d);U.scaleTo(V,e,c);return}var g=1===a.deltaMode?20:1,h=v===f.h.Vertical?0:a.deltaX*g,i=v===f.h.Horizontal?0:a.deltaY*g;U.translateBy(V,-(h/b)*t,-(i/b)*t)}).on("wheel.zoom",null):void 0!==W&&V.on("wheel",function(a){if(!L||aI(a,N))return null;a.preventDefault()}).on("wheel.zoom",W))},[r,v,V,U,W,X,p,L,N]),(0,h.useEffect)(function(){U&&(y&&!Q.current?U.on("zoom",null):y||U.on("zoom",function(a){if(P.setState({transform:[a.transform.x,a.transform.y,a.transform.k]}),d){var b=aH(a.transform);d(a.sourceEvent,b)}}))},[y,U,d]),(0,h.useEffect)(function(){U&&U.on("start",function(a){if(Q.current=!0,e){var b=aH(a.transform);S.current=b,e(a.sourceEvent,b)}})},[U,e]),(0,h.useEffect)(function(){U&&U.on("end",function(a){var b,c;if(Q.current=!1,g&&(b=S.current,c=a.transform,b.x!==c.x||b.y!==c.y||b.zoom!==c.k)){var d=aH(a.transform);S.current=d,g(a.sourceEvent,d)}})},[U,g]),(0,h.useEffect)(function(){U&&U.filter(function(a){var b=X||n,c=p&&a.ctrlKey;return!(!B&&!b&&!r&&!x&&!p||y|| !x&&"dblclick"===a.type||aI(a,N)&&"wheel"===a.type||aI(a,O)&&"wheel"!==a.type)&&(!!p||!a.ctrlKey||"wheel"!==a.type)&&(!!b||!!r||!!c||"wheel"!==a.type)&&(!!B||"mousedown"!==a.type&&"touchstart"!==a.type)&&(!a.ctrlKey||"wheel"===a.type)&&!a.button})},[U,n,p,r,x,B,y,z,X]),h.createElement("div",{className:"react-flow__renderer react-flow__container",ref:R},M)};function aL(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function aM(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aL(Object(c),!0).forEach(function(b){(0,f.a)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aL(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function aN(a,b){return{x:a.clientX-b.left,y:a.clientY-b.top}}var aO=function(a){return{userSelectionActive:a.userSelectionActive,elementsSelectable:a.elementsSelectable}},aP={startX:0,startY:0,x:0,y:0,width:0,height:0,draw:!1},aQ=(0,h.memo)(function(a){var b=a.selectionKeyPressed,c=(0,f.u)(),d=(0,h.useRef)(0),e=(0,h.useRef)(0),g=(0,h.useRef)(),i=(0,h.useState)(aP),k=(0,f._)(i,2),l=k[0],m=k[1],n=(0,f.b)(aO,j.Z),o=n.userSelectionActive,p=n.elementsSelectable;if(!p||!(o||b))return null;var q=function(){m(aP),c.setState({userSelectionActive:!1}),d.current=0,e.current=0},r=function(a){var b=a.target.closest(".react-flow");g.current=b.getBoundingClientRect();var d=aN(a,g.current);m({width:0,height:0,startX:d.x,startY:d.y,x:d.x,y:d.y,draw:!0}),c.setState({userSelectionActive:!0,nodesSelectionActive:!1})},s=function(a){if(b&&l.draw&&g.current){var h,i,j=aN(a,g.current),k=null!==(h=l.startX)&& void 0!==h?h:0,n=null!==(i=l.startY)&& void 0!==i?i:0,o=aM(aM({},l),{},{x:j.x<k?j.x:k,y:j.y<n?j.y:n,width:Math.abs(j.x-k),height:Math.abs(j.y-n)}),p=c.getState(),q=p.nodeInternals,r=p.edges,s=p.transform,t=p.onNodesChange,u=p.onEdgesChange,v=Array.from(q.values()),w=(0,f.k)(q,o,s,!1,!0),x=(0,f.e)(w,r).map(function(a){return a.id}),y=w.map(function(a){return a.id});if(d.current!==y.length){d.current=y.length;var z=(0,f.l)(v,y);z.length&&(null==t||t(z))}if(e.current!==x.length){e.current=x.length;var A=(0,f.l)(r,x);A.length&&(null==u||u(A))}m(o)}},t=function(){c.setState({nodesSelectionActive:d.current>0}),q()},u=function(){c.setState({nodesSelectionActive:!1}),q()};return h.createElement("div",{className:"react-flow__selectionpane react-flow__container",onMouseDown:r,onMouseMove:s,onMouseUp:t,onMouseLeave:u},l.draw&&h.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:l.width,height:l.height,transform:"translate(".concat(l.x,"px, ").concat(l.y,"px)")}}))});function aR(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function aS(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aR(Object(c),!0).forEach(function(b){(0,f.a)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aR(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function aT(a,b){if(!a.parentNode)return!1;var c=b.get(a.parentNode);return!!c&&(!!c.selected||aT(c,b))}function aU(a,b,c){var d,e=a;do{if(null!==(d=e)&& void 0!==d&&d.matches(b))return!0;if(e===c.current)break;e=e.parentElement}while(e);return!1}function aV(a){var b=a.nodeId,c=a.dragItems,d=a.nodeInternals,e=c.map(function(a){return aS(aS({},d.get(a.id)),{},{position:a.position,positionAbsolute:a.positionAbsolute})});return[b?e.find(function(a){return a.id===b}):e[0],e]}function aW(a){return function(b,c,d){return null==a?void 0:a(b,d)}}function aX(a){var b=a.nodeRef,c=a.disabled,d=void 0!==c&&c,e=a.noDragClassName,g=a.handleSelector,i=a.nodeId,j=a.isSelectable,k=a.selectNodesOnDrag,m=(0,h.useState)(!1),o=(0,f._)(m,2),p=o[0],q=o[1],r=(0,f.u)(),s=(0,h.useRef)(),t=(0,h.useRef)({x:null,y:null}),u=(0,h.useCallback)(function(a){var b=a.sourceEvent,c=r.getState(),d=c.transform,e=c.snapGrid,g=c.snapToGrid,h=b.touches?b.touches[0].clientX:b.clientX,i=b.touches?b.touches[0].clientY:b.clientY,j=(0,f.p)({x:h,y:i},d,g,e);return j},[]);return(0,h.useEffect)(function(){if(null!=b&&b.current){var a=(0,l.Z)(b.current);if(d)a.on(".drag",null);else{var c=(0,n.Z)().on("start",function(a){var b,c=r.getState(),d=c.nodeInternals,e=c.multiSelectionActive,g=c.unselectNodesAndEdges,h=c.onNodeDragStart,l=c.onSelectionDragStart,m=i?h:aW(l);k||e||!i||null!==(b=d.get(i))&& void 0!==b&&b.selected||g(),i&&j&&k&&(0,f.n)({id:i,store:r});var n,o,p,q=u(a);if(t.current=q,s.current=(n=d,o=q,p=i,Array.from(n.values()).filter(function(a){return(a.selected||a.id===p)&&(!a.parentNode||!aT(a,n))}).map(function(a){var b,c,d,e;return{id:a.id,position:a.position||{x:0,y:0},positionAbsolute:a.positionAbsolute||{x:0,y:0},distance:{x:o.x-(null!==(b=null===(c=a.positionAbsolute)|| void 0===c?void 0:c.x)&& void 0!==b?b:0),y:o.y-(null!==(d=null===(e=a.positionAbsolute)|| void 0===e?void 0:e.y)&& void 0!==d?d:0)},delta:{x:0,y:0},extent:a.extent,parentNode:a.parentNode,width:a.width,height:a.height}})),m&&s.current){var v=aV({nodeId:i,dragItems:s.current,nodeInternals:d}),w=(0,f._)(v,2),x=w[0],y=w[1];m(a.sourceEvent,x,y)}}).on("drag",function(a){var b=r.getState(),c=b.updateNodePositions,d=b.nodeInternals,e=b.nodeExtent,g=b.onNodeDrag,h=b.onSelectionDrag,j=u(a);if((t.current.x!==j.x||t.current.y!==j.y)&&s.current){t.current=j,s.current=s.current.map(function(a){return function(a,b,c,d){var e=a.extent||d,g={x:b.x-a.distance.x,y:b.y-a.distance.y};if("parent"===a.extent){if(a.parentNode&&a.width&&a.height){var h=c.get(a.parentNode);e=null!=h&&h.positionAbsolute&&null!=h&&h.width&&null!=h&&h.height?[[h.positionAbsolute.x,h.positionAbsolute.y],[h.positionAbsolute.x+h.width-a.width,h.positionAbsolute.y+h.height-a.height]]:e}else e=d}else if(a.extent&&a.parentNode){var i,j,k,l,m=c.get(a.parentNode),n=null!==(i=null==m?void 0:null===(j=m.positionAbsolute)|| void 0===j?void 0:j.x)&& void 0!==i?i:0,o=null!==(k=null==m?void 0:null===(l=m.positionAbsolute)|| void 0===l?void 0:l.y)&& void 0!==k?k:0;e=[[a.extent[0][0]+n,a.extent[0][1]+o],[a.extent[1][0]+n,a.extent[1][1]+o]]}var p={x:0,y:0};if(a.parentNode){var q,r,s,t,u=c.get(a.parentNode);p={x:null!==(q=null==u?void 0:null===(r=u.positionAbsolute)|| void 0===r?void 0:r.x)&& void 0!==q?q:0,y:null!==(s=null==u?void 0:null===(t=u.positionAbsolute)|| void 0===t?void 0:t.y)&& void 0!==s?s:0}}return a.positionAbsolute=e?(0,f.m)(g,e):g,a.position={x:a.positionAbsolute.x-p.x,y:a.positionAbsolute.y-p.y},a}(a,j,d,e)});var k=i?g:aW(h);if(c(s.current,!0,!0),q(!0),k){var l=aV({nodeId:i,dragItems:s.current,nodeInternals:d}),m=(0,f._)(l,2),n=m[0],o=m[1];k(a.sourceEvent,n,o)}}a.on("end",function(a){if(q(!1),s.current){var b=r.getState(),c=b.updateNodePositions,d=b.nodeInternals,e=b.onNodeDragStop,g=b.onSelectionDragStop,h=i?e:aW(g);if(c(s.current,!1,!1),h){var j=aV({nodeId:i,dragItems:s.current,nodeInternals:d}),k=(0,f._)(j,2),l=k[0],m=k[1];h(a.sourceEvent,l,m)}}})}).filter(function(a){var c=a.target;return!a.button&&(!e||!aU(c,".".concat(e),b))&&(!g||aU(c,g,b))});return a.call(c),function(){a.on(".drag",null)}}}},[b,d,e,g,j,r,i,k,u]),p}function aY(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}var aZ=function(a){return function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aY(Object(c),!0).forEach(function(b){(0,f.a)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aY(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({transformString:"translate(".concat(a.transform[0],"px,").concat(a.transform[1],"px) scale(").concat(a.transform[2],")"),userSelectionActive:a.userSelectionActive},(0,f.o)(Array.from(a.nodeInternals.values()).filter(function(a){return a.selected})))},a$=function(a){var b=Array.from(a.nodeInternals.values()).filter(function(a){return a.selected});return(0,f.o)(b)},a_=(0,h.memo)(function(a){var b=a.onSelectionContextMenu,c=a.noPanClassName,d=(0,f.u)(),e=(0,f.b)(aZ,j.Z),g=e.transformString,k=e.userSelectionActive,l=(0,f.b)(a$,j.Z),m=l.width,n=l.height,o=l.x,p=l.y,q=(0,h.useRef)(null);return(aX({nodeRef:q}),!k&&m&&n)?h.createElement("div",{className:(0,i.Z)(["react-flow__nodesselection","react-flow__container",c]),style:{transform:g}},h.createElement("div",{ref:q,className:"react-flow__nodesselection-rect",onContextMenu:b?function(a){b(a,Array.from(d.getState().nodeInternals.values()).filter(function(a){return a.selected}))}:void 0,style:{width:m,height:n,top:p,left:o}})):null}),a0=function(a){return a.nodesSelectionActive},a1=function(a){var b=a.children,c=a.onPaneClick,d=a.onPaneContextMenu,e=a.onPaneScroll,g=a.deleteKeyCode,i=a.onMove,j=a.onMoveStart,k=a.onMoveEnd,l=a.selectionKeyCode,m=a.multiSelectionKeyCode,n=a.zoomActivationKeyCode,o=a.elementsSelectable,p=a.zoomOnScroll,q=a.zoomOnPinch,r=a.panOnScroll,s=a.panOnScrollSpeed,t=a.panOnScrollMode,u=a.zoomOnDoubleClick,v=a.panOnDrag,w=a.translateExtent,x=a.minZoom,y=a.maxZoom,z=a.defaultZoom,A=a.defaultPosition,B=a.preventScrolling,C=a.onSelectionContextMenu,D=a.noWheelClassName,E=a.noPanClassName,F=(0,f.u)(),G=(0,f.b)(a0),H=aB(l);aG({deleteKeyCode:g,multiSelectionKeyCode:m});var I=function(a){null==c||c(a),F.getState().resetSelectedElements(),F.setState({nodesSelectionActive:!1})};return h.createElement(aK,{onMove:i,onMoveStart:j,onMoveEnd:k,selectionKeyPressed:H,elementsSelectable:o,zoomOnScroll:p,zoomOnPinch:q,panOnScroll:r,panOnScrollSpeed:s,panOnScrollMode:t,zoomOnDoubleClick:u,panOnDrag:v,translateExtent:w,minZoom:x,maxZoom:y,defaultZoom:z,defaultPosition:A,zoomActivationKeyCode:n,preventScrolling:B,noWheelClassName:D,noPanClassName:E},b,h.createElement(aQ,{selectionKeyPressed:H}),G&&h.createElement(a_,{onSelectionContextMenu:C,noPanClassName:E}),h.createElement("div",{className:"react-flow__pane react-flow__container",onClick:I,onContextMenu:d?function(a){return d(a)}:void 0,onWheel:e?function(a){return e(a)}:void 0}))};a1.displayName="FlowRenderer";var a2=(0,h.memo)(a1),a3=function(a){return{nodesDraggable:a.nodesDraggable,nodesConnectable:a.nodesConnectable,elementsSelectable:a.elementsSelectable,updateNodeDimensions:a.updateNodeDimensions}},a4=function(a){var b,c=(0,f.b)(a3,j.Z),d=c.nodesDraggable,e=c.nodesConnectable,g=c.elementsSelectable,i=c.updateNodeDimensions,k=(b=a.onlyRenderVisibleElements,(0,f.b)((0,h.useCallback)(function(a){return b?(0,f.k)(a.nodeInternals,{x:0,y:0,width:a.width,height:a.height},a.transform,!0):Array.from(a.nodeInternals.values())},[b]))),l=(0,h.useRef)(),m=(0,h.useMemo)(function(){if("undefined"==typeof ResizeObserver)return null;var a=new ResizeObserver(function(a){i(a.map(function(a){return{id:a.target.getAttribute("data-id"),nodeElement:a.target,forceUpdate:!0}}))});return l.current=a,a},[]);return(0,h.useEffect)(function(){return function(){var a;null==l||null===(a=l.current)|| void 0===a||a.disconnect()}},[]),h.createElement("div",{className:"react-flow__nodes react-flow__container"},k.map(function(b){var c,i,j,k,l,n,o,p=b.type||"default";a.nodeTypes[p]||(p="default");var q=a.nodeTypes[p]||a.nodeTypes.default,r=!!(b.draggable||d&& void 0===b.draggable),s=!!(b.selectable||g&& void 0===b.selectable),t=!!(b.connectable||e&& void 0===b.connectable);return h.createElement(q,{key:b.id,id:b.id,className:b.className,style:b.style,type:p,data:b.data,sourcePosition:b.sourcePosition||f.P.Bottom,targetPosition:b.targetPosition||f.P.Top,hidden:b.hidden,xPos:null!==(c=null===(i=b.positionAbsolute)|| void 0===i?void 0:i.x)&& void 0!==c?c:0,yPos:null!==(j=null===(k=b.positionAbsolute)|| void 0===k?void 0:k.y)&& void 0!==j?j:0,selectNodesOnDrag:a.selectNodesOnDrag,onClick:a.onNodeClick,onMouseEnter:a.onNodeMouseEnter,onMouseMove:a.onNodeMouseMove,onMouseLeave:a.onNodeMouseLeave,onContextMenu:a.onNodeContextMenu,onDoubleClick:a.onNodeDoubleClick,selected:!!b.selected,isDraggable:r,isSelectable:s,isConnectable:t,resizeObserver:m,dragHandle:b.dragHandle,zIndex:null!==(l=null===(n=b[f.i])|| void 0===n?void 0:n.z)&& void 0!==l?l:0,isParent:!!(null!==(o=b[f.i])&& void 0!==o&&o.isParent),noDragClassName:a.noDragClassName,noPanClassName:a.noPanClassName,initialized:!!b.width&&!!b.height})}))};a4.displayName="NodeRenderer";var a5=(0,h.memo)(a4);function a6(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function a7(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?a6(Object(c),!0).forEach(function(b){(0,f.a)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):a6(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var a8=(d={},(0,f.a)(d,f.P.Left,f.P.Right),(0,f.a)(d,f.P.Right,f.P.Left),(0,f.a)(d,f.P.Top,f.P.Bottom),(0,f.a)(d,f.P.Bottom,f.P.Top),d),a9=function(a){var b,c,d,e,g,i,k,l,m,n,o,p=a.connectionNodeId,q=a.connectionHandleType,r=a.connectionLineStyle,s=a.connectionLineType,t=void 0===s?f.q.Bezier:s,u=a.isConnectable,v=a.CustomConnectionLineComponent,x=(0,f.b)((0,h.useCallback)(function(a){return{fromNode:a.nodeInternals.get(p),handleId:a.connectionHandleId,toX:(a.connectionPosition.x-a.transform[0])/a.transform[2],toY:(a.connectionPosition.y-a.transform[1])/a.transform[2]}},[p]),j.Z),y=x.fromNode,z=x.handleId,A=x.toX,B=x.toY,C=null==y?void 0:null===(b=y[f.i])|| void 0===b?void 0:b.handleBounds;if(!y||!u||!(null!=C&&C[q]))return null;var D=C[q],E=z?D.find(function(a){return a.id===z}):D[0],F=E?E.x+E.width/2:(null!==(c=null==y?void 0:y.width)&& void 0!==c?c:0)/2,G=E?E.y+E.height/2:null!==(d=null==y?void 0:y.height)&& void 0!==d?d:0,H=((null==y?void 0:null===(e=y.positionAbsolute)|| void 0===e?void 0:e.x)||0)+F,I=((null==y?void 0:null===(g=y.positionAbsolute)|| void 0===g?void 0:g.y)||0)+G,J=null==E?void 0:E.position;if(!J)return null;var L=a8[J];switch(q){case"source":i=H,k=I,l=J,m=A,n=B,o=L;break;case"target":i=A,k=B,l=L,m=H,n=I,o=J}if(v)return h.createElement("g",{className:"react-flow__connection"},h.createElement(v,{connectionLineType:t,connectionLineStyle:r,fromNode:y,fromHandle:E,fromX:H,fromY:I,toX:A,toY:B,fromPosition:J,toPosition:L,sourcePosition:l,targetPosition:o,sourceNode:y,sourceHandle:E,targetX:m,targetY:n,sourceX:i,sourceY:k}));var M="",N={sourceX:i,sourceY:k,sourcePosition:l,targetX:m,targetY:n,targetPosition:o};return M=t===f.q.Bezier?S(N):t===f.q.Step?K(a7(a7({},N),{},{borderRadius:0})):t===f.q.SmoothStep?K(N):t===f.q.SimpleBezier?w(N):"M".concat(i,",").concat(k," ").concat(m,",").concat(n),h.createElement("g",{className:"react-flow__connection"},h.createElement("path",{d:M,className:"react-flow__connection-path",style:r}))};function ba(a){return(ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var bb=function(a){var b=a.color,c=a.strokeWidth;return h.createElement("polyline",{stroke:void 0===b?"none":b,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:void 0===c?1:c,fill:"none",points:"-5,-4 0,0 -5,4"})},bc=function(a){var b=a.color,c=void 0===b?"none":b,d=a.strokeWidth;return h.createElement("polyline",{stroke:c,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:void 0===d?1:d,fill:c,points:"-5,-4 0,0 -5,4 -5,-4"})},bd=(e={},(0,f.a)(e,f.M.Arrow,bb),(0,f.a)(e,f.M.ArrowClosed,bc),e);function be(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}var bf=function(a){var b,c=a.id,d=a.type,e=a.color,f=a.width,g=a.height,i=a.markerUnits,j=a.strokeWidth,k=a.orient,l=(b=d,(0,h.useMemo)(function(){return bd.hasOwnProperty(b)?bd[b]:function(){return null}},[b]));return h.createElement("marker",{className:"react-flow__arrowhead",id:c,markerWidth:"".concat(void 0===f?12.5:f),markerHeight:"".concat(void 0===g?12.5:g),viewBox:"-10 -10 20 20",markerUnits:void 0===i?"strokeWidth":i,orient:void 0===k?"auto":k,refX:"0",refY:"0"},h.createElement(l,{color:e,strokeWidth:j}))},bg=function(a){var b=a.defaultColor,c=a.rfId;return function(a){var d=[];return a.edges.reduce(function(a,e){return[e.markerStart,e.markerEnd].forEach(function(e){if(e&&"object"===ba(e)){var g=(0,f.d)(e,c);d.includes(g)||(a.push(function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?be(Object(c),!0).forEach(function(b){(0,f.a)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):be(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({id:g,color:e.color||b},e)),d.push(g))}}),a},[]).sort(function(a,b){return a.id.localeCompare(b.id)})}},bh=function(a){var b=a.defaultColor,c=a.rfId,d=(0,f.b)((0,h.useCallback)(bg({defaultColor:b,rfId:c}),[b,c]),function(a,b){return!(a.length!==b.length||a.some(function(a,c){return a.id!==b[c].id}))});return h.createElement("defs",null,d.map(function(a){return h.createElement(bf,{id:a.id,key:a.id,type:a.type,color:a.color,width:a.width,height:a.height,markerUnits:a.markerUnits,strokeWidth:a.strokeWidth,orient:a.orient})}))};bh.displayName="MarkerDefinitions";var bi=(0,h.memo)(bh),bj=[{level:0,isMaxLevel:!0,edges:[]}],bk=function(a){return{connectionNodeId:a.connectionNodeId,connectionHandleType:a.connectionHandleType,nodesConnectable:a.nodesConnectable,elementsSelectable:a.elementsSelectable,width:a.width,height:a.height,connectionMode:a.connectionMode,nodeInternals:a.nodeInternals}},bl=function(a){var b,c,d,e=(0,f.b)(bk,j.Z),g=e.connectionNodeId,k=e.connectionHandleType,l=e.nodesConnectable,m=e.elementsSelectable,n=e.width,o=e.height,p=e.connectionMode,q=e.nodeInternals,r=(b=a.onlyRenderVisibleElements,c=q,d=a.elevateEdgesOnSelect,function(a,b){var c=arguments.length>2&& void 0!==arguments[2]&&arguments[2],d=-1,e=Object.entries(a.reduce(function(a,e){var g,h,i,j,k=(0,f.s)(e.zIndex),l=k?e.zIndex:0;return c&&(l=k?e.zIndex:Math.max((null===(g=b.get(e.source))|| void 0===g?void 0:null===(h=g[f.i])|| void 0===h?void 0:h.z)||0,(null===(i=b.get(e.target))|| void 0===i?void 0:null===(j=i[f.i])|| void 0===j?void 0:j.z)||0)),a[l]?a[l].push(e):a[l]=[e],d=l>d?l:d,a},{})).map(function(a){var b=(0,f._)(a,2),c=b[0],e=b[1],g=+c;return{edges:e,level:g,isMaxLevel:g===d}});return 0===e.length?bj:e}((0,f.b)((0,h.useCallback)(function(a){return b?a.edges.filter(function(b){var d,e,g,h,i,j,k,l,m,n,o,p,q,r,s=c.get(b.source),t=c.get(b.target);return(null==s?void 0:s.width)&&(null==s?void 0:s.height)&&(null==t?void 0:t.width)&&(null==t?void 0:t.height)&&(e=(d={sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:t.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:t.width,targetHeight:t.height,width:a.width,height:a.height,transform:a.transform}).sourcePos,g=d.targetPos,h=d.sourceWidth,i=d.sourceHeight,j=d.targetWidth,k=d.targetHeight,l=d.width,m=d.height,n=d.transform,o={x:Math.min(e.x,g.x),y:Math.min(e.y,g.y),x2:Math.max(e.x+h,g.x+j),y2:Math.max(e.y+i,g.y+k)},o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1),p=(0,f.r)({x:(0-n[0])/n[2],y:(0-n[1])/n[2],width:l/n[2],height:m/n[2]}),q=Math.max(0,Math.min(p.x2,o.x2)-Math.max(p.x,o.x)),r=Math.max(0,Math.min(p.y2,o.y2)-Math.max(p.y,o.y)),Math.ceil(q*r)>0)}):a.edges},[b,c])),c,d));if(!n)return null;var s=a.connectionLineType,t=a.defaultMarkerColor,u=a.connectionLineStyle,v=a.connectionLineComponent,w=a.connectionLineContainerStyle;return h.createElement(h.Fragment,null,r.map(function(b){var c=b.level,d=b.edges,e=b.isMaxLevel;return h.createElement("svg",{key:c,style:{zIndex:c},width:n,height:o,className:"react-flow__edges react-flow__container"},e&&h.createElement(bi,{defaultColor:t,rfId:a.rfId}),h.createElement("g",null,d.map(function(b){var c=az(q,b.source),d=(0,f._)(c,3),e=d[0],g=d[1],j=d[2],k=az(q,b.target),l=(0,f._)(k,3),n=l[0],o=l[1],r=l[2];if(!j||!r)return null;var s=b.type||"default",t=a.edgeTypes[s]||a.edgeTypes.default,u=p===f.C.Strict?o.target:o.target||o.source,v=ax(g.source,b.sourceHandle||null),w=ax(u,b.targetHandle||null),x=(null==v?void 0:v.position)||f.P.Bottom,y=(null==w?void 0:w.position)||f.P.Top;if(!v||!w)return null;var z=ay(e,v,x,n,w,y),A=z.sourceX,B=z.sourceY,C=z.targetX,D=z.targetY;return h.createElement(t,{key:b.id,id:b.id,className:(0,i.Z)([b.className,a.noPanClassName]),type:s,data:b.data,selected:!!b.selected,animated:!!b.animated,hidden:!!b.hidden,label:b.label,labelStyle:b.labelStyle,labelShowBg:b.labelShowBg,labelBgStyle:b.labelBgStyle,labelBgPadding:b.labelBgPadding,labelBgBorderRadius:b.labelBgBorderRadius,style:b.style,source:b.source,target:b.target,sourceHandleId:b.sourceHandle,targetHandleId:b.targetHandle,markerEnd:b.markerEnd,markerStart:b.markerStart,sourceX:A,sourceY:B,targetX:C,targetY:D,sourcePosition:x,targetPosition:y,elementsSelectable:m,onEdgeUpdate:a.onEdgeUpdate,onContextMenu:a.onEdgeContextMenu,onMouseEnter:a.onEdgeMouseEnter,onMouseMove:a.onEdgeMouseMove,onMouseLeave:a.onEdgeMouseLeave,onClick:a.onEdgeClick,edgeUpdaterRadius:a.edgeUpdaterRadius,onEdgeDoubleClick:a.onEdgeDoubleClick,onEdgeUpdateStart:a.onEdgeUpdateStart,onEdgeUpdateEnd:a.onEdgeUpdateEnd,rfId:a.rfId})})))}),g&&k&&h.createElement("svg",{style:w,width:n,height:o,className:"react-flow__edges react-flow__connectionline react-flow__container"},h.createElement(a9,{connectionNodeId:g,connectionHandleType:k,connectionLineStyle:u,connectionLineType:s,isConnectable:l,CustomConnectionLineComponent:v})))};bl.displayName="EdgeRenderer";var bm=(0,h.memo)(bl),bn=function(a){return"translate(".concat(a.transform[0],"px,").concat(a.transform[1],"px) scale(").concat(a.transform[2],")")};function bo(a){var b=a.children,c=(0,f.b)(bn);return h.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:c}},b)}var bp=function(a){var b,c,d,e=a.nodeTypes,f=a.edgeTypes,i=a.onMove,j=a.onMoveStart,k=a.onMoveEnd,l=a.onInit,m=a.onNodeClick,n=a.onEdgeClick,o=a.onNodeDoubleClick,p=a.onEdgeDoubleClick,q=a.onNodeMouseEnter,r=a.onNodeMouseMove,s=a.onNodeMouseLeave,t=a.onNodeContextMenu,u=a.onSelectionContextMenu,v=a.connectionLineType,w=a.connectionLineStyle,x=a.connectionLineComponent,y=a.connectionLineContainerStyle,z=a.selectionKeyCode,A=a.multiSelectionKeyCode,B=a.zoomActivationKeyCode,C=a.deleteKeyCode,D=a.onlyRenderVisibleElements,E=a.elementsSelectable,F=a.selectNodesOnDrag,G=a.translateExtent,H=a.minZoom,I=a.maxZoom,J=a.defaultZoom,K=a.defaultPosition,L=a.preventScrolling,M=a.defaultMarkerColor,N=a.zoomOnScroll,O=a.zoomOnPinch,P=a.panOnScroll,Q=a.panOnScrollSpeed,R=a.panOnScrollMode,S=a.zoomOnDoubleClick,T=a.panOnDrag,U=a.onPaneClick,V=a.onPaneScroll,W=a.onPaneContextMenu,X=a.onEdgeUpdate,Y=a.onEdgeContextMenu,Z=a.onEdgeMouseEnter,$=a.onEdgeMouseMove,_=a.onEdgeMouseLeave,aa=a.edgeUpdaterRadius,ab=a.onEdgeUpdateStart,ac=a.onEdgeUpdateEnd,ad=a.noDragClassName,ae=a.noWheelClassName,af=a.noPanClassName,ag=a.elevateEdgesOnSelect,ah=a.id;return b=l,c=(0,g.u)(),d=(0,h.useRef)(!1),(0,h.useEffect)(function(){!d.current&&c.viewportInitialized&&b&&(setTimeout(function(){return b(c)},1),d.current=!0)},[b,c.viewportInitialized]),h.createElement(a2,{onPaneClick:U,onPaneContextMenu:W,onPaneScroll:V,deleteKeyCode:C,selectionKeyCode:z,multiSelectionKeyCode:A,zoomActivationKeyCode:B,elementsSelectable:E,onMove:i,onMoveStart:j,onMoveEnd:k,zoomOnScroll:N,zoomOnPinch:O,zoomOnDoubleClick:S,panOnScroll:P,panOnScrollSpeed:Q,panOnScrollMode:R,panOnDrag:T,translateExtent:G,minZoom:H,maxZoom:I,defaultZoom:J,defaultPosition:K,onSelectionContextMenu:u,preventScrolling:L,noDragClassName:ad,noWheelClassName:ae,noPanClassName:af},h.createElement(bo,null,h.createElement(bm,{edgeTypes:f,onEdgeClick:n,onEdgeDoubleClick:p,connectionLineType:v,connectionLineStyle:w,connectionLineComponent:x,connectionLineContainerStyle:y,onEdgeUpdate:X,onlyRenderVisibleElements:D,onEdgeContextMenu:Y,onEdgeMouseEnter:Z,onEdgeMouseMove:$,onEdgeMouseLeave:_,onEdgeUpdateStart:ab,onEdgeUpdateEnd:ac,edgeUpdaterRadius:aa,defaultMarkerColor:M,noPanClassName:af,elevateEdgesOnSelect:!!ag,rfId:ah}),h.createElement(a5,{nodeTypes:e,onNodeClick:m,onNodeDoubleClick:o,onNodeMouseEnter:q,onNodeMouseMove:r,onNodeMouseLeave:s,onNodeContextMenu:t,selectNodesOnDrag:F,onlyRenderVisibleElements:D,noPanClassName:af,noDragClassName:ad})))};bp.displayName="GraphView";var bq=(0,h.memo)(bp),br=function(){return null};function bs(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function bt(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?bs(Object(c),!0).forEach(function(b){(0,f.a)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):bs(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}br.displayName="GroupNode";var bu=function(a){var b=function(b){var c=b.id,d=b.type,e=b.data,g=b.xPos,j=b.yPos,k=b.selected,l=b.onClick,m=b.onMouseEnter,n=b.onMouseMove,o=b.onMouseLeave,p=b.onContextMenu,q=b.onDoubleClick,r=b.style,s=b.className,t=b.isDraggable,u=b.isSelectable,v=b.isConnectable,w=b.selectNodesOnDrag,x=b.sourcePosition,y=b.targetPosition,z=b.hidden,A=b.resizeObserver,B=b.dragHandle,C=b.zIndex,D=b.isParent,E=b.noPanClassName,F=b.noDragClassName,G=b.initialized,H=(0,f.u)(),I=(0,h.useRef)(null),J=(0,h.useRef)(x),K=(0,h.useRef)(y),L=(0,h.useRef)(d),M=(0,f.t)(c,H.getState,m),N=(0,f.t)(c,H.getState,n),O=(0,f.t)(c,H.getState,o),P=(0,f.t)(c,H.getState,p),Q=(0,f.t)(c,H.getState,q),R=function(a){if(!u||w&&t||(0,f.n)({id:c,store:H}),l){var b=H.getState().nodeInternals.get(c);l(a,bt({},b))}};(0,h.useEffect)(function(){if(I.current&&!z){var a=I.current;return null==A||A.observe(a),function(){return null==A?void 0:A.unobserve(a)}}},[z]),(0,h.useEffect)(function(){var a=L.current!==d,b=J.current!==x,e=K.current!==y;I.current&&(a||b||e)&&(a&&(L.current=d),b&&(J.current=x),e&&(K.current=y),H.getState().updateNodeDimensions([{id:c,nodeElement:I.current,forceUpdate:!0}]))},[c,d,x,y]);var S=aX({nodeRef:I,disabled:z||!t,noDragClassName:F,handleSelector:B,nodeId:c,isSelectable:u,selectNodesOnDrag:w});return z?null:h.createElement("div",{className:(0,i.Z)(["react-flow__node","react-flow__node-".concat(d),E,s,{selected:k,selectable:u,parent:D}]),ref:I,style:bt({zIndex:C,transform:"translate(".concat(g,"px,").concat(j,"px)"),pointerEvents:u||t||l||m||n||o?"all":"none",visibility:G?"visible":"hidden"},r),onMouseEnter:M,onMouseMove:N,onMouseLeave:O,onContextMenu:P,onClick:R,onDoubleClick:Q,"data-id":c},h.createElement(V,{value:c},h.createElement(a,{id:c,data:e,type:d,xPos:g,yPos:j,selected:k,isConnectable:v,sourcePosition:x,targetPosition:y,dragging:S,dragHandle:B,zIndex:C})))};return b.displayName="NodeWrapper",(0,h.memo)(b)};function bv(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function bw(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?bv(Object(c),!0).forEach(function(b){(0,f.a)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):bv(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function bx(a){var b={input:bu(a.input||ah),default:bu(a.default||af),output:bu(a.output||aj),group:bu(a.group||br)},c=Object.keys(a).filter(function(a){return!["input","default","output","group"].includes(a)}).reduce(function(b,c){return b[c]=bu(a[c]||af),b},{});return bw(bw({},b),c)}function by(a,b){return(0,h.useRef)(null),(0,h.useMemo)(function(){return b(a)},[a])}function bz(a){if(a&&"undefined"!=typeof document){var b=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");b.appendChild(c),c.appendChild(document.createTextNode(a))}}var bA=function(a){var b=a.children,c=!0;try{(0,f.u)()}catch(d){c=!1}return c?h.createElement(h.Fragment,null,b):h.createElement(f.v,{createStore:f.w},b)};bA.displayName="ReactFlowWrapper";var bB=["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectStop","onConnectEnd","onClickConnectStart","onClickConnectStop","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","elementsSelectable","minZoom","maxZoom","defaultZoom","defaultPosition","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneScroll","onPaneContextMenu","children","onEdgeUpdate","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdateStart","onEdgeUpdateEnd","edgeUpdaterRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateEdgesOnSelect"];function bC(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function bD(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?bC(Object(c),!0).forEach(function(b){(0,f.a)(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):bC(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}bz(".react-flow{height:100%;overflow:hidden;position:relative;width:100%}.react-flow__container{height:100%;left:0;position:absolute;top:0;width:100%}.react-flow__pane{z-index:1}.react-flow__viewport{pointer-events:none;transform-origin:0 0;z-index:2}.react-flow__renderer{z-index:4}.react-flow__selectionpane{z-index:5}.react-flow .react-flow__edges{overflow:visible;pointer-events:none}.react-flow .react-flow__connectionline{z-index:1001}.react-flow__edge{pointer-events:visibleStroke}.react-flow__edge.inactive{pointer-events:none}@-webkit-keyframes dashdraw{0%{stroke-dashoffset:10}}@keyframes dashdraw{0%{stroke-dashoffset:10}}.react-flow__edge-path{fill:none}.react-flow__edge-textwrapper{pointer-events:all}.react-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__connection{pointer-events:none}.react-flow__connection .animated{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__connection-path{fill:none}.react-flow__nodes{pointer-events:none;transform-origin:0 0}.react-flow__node{box-sizing:border-box;pointer-events:all;position:absolute;transform-origin:0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-flow__nodesselection{pointer-events:none;transform-origin:left top;z-index:3}.react-flow__nodesselection-rect{cursor:-webkit-grab;cursor:grab;pointer-events:all;position:absolute}.react-flow__handle{pointer-events:none;position:absolute}.react-flow__handle.connectable{pointer-events:all}.react-flow__handle-bottom{bottom:-4px;left:50%;top:auto;transform:translate(-50%)}.react-flow__handle-top{left:50%;top:-4px;transform:translate(-50%)}.react-flow__handle-left{left:-4px;top:50%;transform:translateY(-50%)}.react-flow__handle-right{right:-4px;top:50%;transform:translateY(-50%)}.react-flow__edgeupdater{cursor:move;pointer-events:all}.react-flow__controls{bottom:20px;left:15px;position:absolute;z-index:5}.react-flow__controls-button{border:none;height:24px;width:24px}.react-flow__controls-button svg{width:100%}.react-flow__minimap{bottom:20px;position:absolute;right:15px;z-index:5}.react-flow__attribution{background:hsla(0,0%,100%,.5);color:#999;font-size:10px;padding:2px 3px;position:absolute;z-index:1000}.react-flow__attribution a{color:#555;text-decoration:none}.react-flow__attribution.top{top:0}.react-flow__attribution.bottom{bottom:0}.react-flow__attribution.left{left:0}.react-flow__attribution.right{right:0}.react-flow__attribution.center{left:50%;transform:translateX(-50%)}"),bz(".react-flow__edge.selected .react-flow__edge-path{stroke:#555}.react-flow__edge.animated path{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__edge.updating .react-flow__edge-path{stroke:#777}.react-flow__edge-path{stroke:#b1b1b7;stroke-width:1}.react-flow__edge-text{font-size:10px}.react-flow__edge-textbg{fill:#fff}.react-flow__connection-path{stroke:#b1b1b7;stroke-width:1}.react-flow__node{cursor:-webkit-grab;cursor:grab}.react-flow__node-default,.react-flow__node-group,.react-flow__node-input,.react-flow__node-output{background:#fff;border:1px solid #1a192b;border-radius:3px;color:#222;font-size:12px;padding:10px;text-align:center;width:150px}.react-flow__node-default.selected,.react-flow__node-group.selected,.react-flow__node-input.selected,.react-flow__node-output.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-default .react-flow__handle,.react-flow__node-group .react-flow__handle,.react-flow__node-input .react-flow__handle,.react-flow__node-output .react-flow__handle{background:#1a192b}.react-flow__node-default.selectable:hover,.react-flow__node-group.selectable:hover,.react-flow__node-input.selectable:hover,.react-flow__node-output.selectable:hover{box-shadow:0 1px 4px 1px rgba(0,0,0,.08)}.react-flow__node-default.selectable.selected,.react-flow__node-group.selectable.selected,.react-flow__node-input.selectable.selected,.react-flow__node-output.selectable.selected{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-group{background:hsla(0,0%,94%,.25);border-color:#1a192b}.react-flow__nodesselection-rect,.react-flow__selection{background:rgba(0,89,220,.08);border:1px dotted rgba(0,89,220,.8)}.react-flow__handle{background:#555;border:1px solid #fff;border-radius:100%;height:6px;width:6px}.react-flow__handle.connectable{cursor:crosshair}.react-flow__minimap{background-color:#fff}.react-flow__controls{box-shadow:0 0 2px 1px rgba(0,0,0,.08)}.react-flow__controls-button{align-items:center;background:#fefefe;border-bottom:1px solid #eee;box-sizing:content-box;cursor:pointer;display:flex;height:16px;justify-content:center;padding:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:16px}.react-flow__controls-button svg{max-height:12px;max-width:12px}.react-flow__controls-button:hover{background:#f4f4f4}");var bE={input:ah,default:af,output:aj},bF={default:T,straight:P,step:O,smoothstep:L,simplebezier:x},bG=[15,15],bH=[0,0],bI=(0,h.forwardRef)(function(a,b){var c=a.nodes,d=a.edges,e=a.defaultNodes,j=a.defaultEdges,k=a.className,l=a.nodeTypes,m=a.edgeTypes,n=a.onNodeClick,o=a.onEdgeClick,q=a.onInit,r=a.onMove,s=a.onMoveStart,t=a.onMoveEnd,u=a.onConnect,v=a.onConnectStart,w=a.onConnectStop,x=a.onConnectEnd,y=a.onClickConnectStart,z=a.onClickConnectStop,A=a.onClickConnectEnd,B=a.onNodeMouseEnter,C=a.onNodeMouseMove,D=a.onNodeMouseLeave,E=a.onNodeContextMenu,F=a.onNodeDoubleClick,G=a.onNodeDragStart,H=a.onNodeDrag,I=a.onNodeDragStop,J=a.onNodesDelete,K=a.onEdgesDelete,L=a.onSelectionChange,M=a.onSelectionDragStart,N=a.onSelectionDrag,O=a.onSelectionDragStop,P=a.onSelectionContextMenu,Q=a.connectionMode,R=void 0===Q?f.C.Strict:Q,S=a.connectionLineType,T=void 0===S?f.q.Bezier:S,U=a.connectionLineStyle,V=a.connectionLineComponent,W=a.connectionLineContainerStyle,X=a.deleteKeyCode,Y=a.selectionKeyCode,Z=a.multiSelectionKeyCode,$=a.zoomActivationKeyCode,_=a.snapToGrid,aa=a.snapGrid,ab=a.onlyRenderVisibleElements,ac=a.selectNodesOnDrag,ad=a.nodesDraggable,ae=a.nodesConnectable,af=a.elementsSelectable,ag=a.minZoom,ah=void 0===ag?.5:ag,ai=a.maxZoom,aj=void 0===ai?2:ai,ak=a.defaultZoom,al=a.defaultPosition,an=a.translateExtent,ao=void 0===an?f.x:an,ap=a.preventScrolling,ar=a.nodeExtent,as=a.defaultMarkerColor,at=a.zoomOnScroll,au=a.zoomOnPinch,aw=a.panOnScroll,ax=a.panOnScrollSpeed,ay=a.panOnScrollMode,az=void 0===ay?f.h.Free:ay,aA=a.zoomOnDoubleClick,aB=a.panOnDrag,aC=a.onPaneClick,aD=a.onPaneScroll,aE=a.onPaneContextMenu,aF=a.children,aG=a.onEdgeUpdate,aH=a.onEdgeContextMenu,aI=a.onEdgeDoubleClick,aJ=a.onEdgeMouseEnter,aK=a.onEdgeMouseMove,aL=a.onEdgeMouseLeave,aM=a.onEdgeUpdateStart,aN=a.onEdgeUpdateEnd,aO=a.edgeUpdaterRadius,aP=a.onNodesChange,aQ=a.onEdgesChange,aR=a.noDragClassName,aS=a.noWheelClassName,aT=a.noPanClassName,aU=a.fitView,aV=a.fitViewOptions,aW=a.connectOnClick,aX=a.attributionPosition,aY=a.proOptions,aZ=a.defaultEdgeOptions,a$=a.elevateEdgesOnSelect,a_=(0,g.a)(a,bB),a0=by(void 0===l?bE:l,bx),a1=by(void 0===m?bF:m,av);return h.createElement("div",bD(bD({},a_),{},{ref:b,className:(0,i.Z)(["react-flow",k])}),h.createElement(bA,null,h.createElement(bq,{onInit:q,onMove:r,onMoveStart:s,onMoveEnd:t,onNodeClick:n,onEdgeClick:o,onNodeMouseEnter:B,onNodeMouseMove:C,onNodeMouseLeave:D,onNodeContextMenu:E,onNodeDoubleClick:F,nodeTypes:a0,edgeTypes:a1,connectionLineType:T,connectionLineStyle:U,connectionLineComponent:V,connectionLineContainerStyle:W,selectionKeyCode:void 0===Y?"Shift":Y,deleteKeyCode:void 0===X?"Backspace":X,multiSelectionKeyCode:void 0===Z?"Meta":Z,zoomActivationKeyCode:void 0===$?"Meta":$,onlyRenderVisibleElements:void 0!==ab&&ab,selectNodesOnDrag:void 0===ac||ac,translateExtent:ao,minZoom:ah,maxZoom:aj,defaultZoom:void 0===ak?1:ak,defaultPosition:void 0===al?bH:al,preventScrolling:void 0===ap||ap,zoomOnScroll:void 0===at||at,zoomOnPinch:void 0===au||au,zoomOnDoubleClick:void 0===aA||aA,panOnScroll:void 0!==aw&&aw,panOnScrollSpeed:void 0===ax?.5:ax,panOnScrollMode:az,panOnDrag:void 0===aB||aB,onPaneClick:aC,onPaneScroll:aD,onPaneContextMenu:aE,onSelectionContextMenu:P,onEdgeUpdate:aG,onEdgeContextMenu:aH,onEdgeDoubleClick:aI,onEdgeMouseEnter:aJ,onEdgeMouseMove:aK,onEdgeMouseLeave:aL,onEdgeUpdateStart:aM,onEdgeUpdateEnd:aN,edgeUpdaterRadius:void 0===aO?10:aO,defaultMarkerColor:void 0===as?"#b1b1b7":as,noDragClassName:void 0===aR?"nodrag":aR,noWheelClassName:void 0===aS?"nowheel":aS,noPanClassName:void 0===aT?"nopan":aT,elevateEdgesOnSelect:void 0!==a$&&a$,id:null==a_?void 0:a_.id}),h.createElement(aq,{nodes:c,edges:d,defaultNodes:e,defaultEdges:j,onConnect:u,onConnectStart:v,onConnectStop:w,onConnectEnd:x,onClickConnectStart:y,onClickConnectStop:z,onClickConnectEnd:A,nodesDraggable:ad,nodesConnectable:ae,elementsSelectable:af,minZoom:ah,maxZoom:aj,nodeExtent:ar,onNodesChange:aP,onEdgesChange:aQ,snapToGrid:void 0!==_&&_,snapGrid:void 0===aa?bG:aa,connectionMode:R,translateExtent:ao,connectOnClick:void 0===aW||aW,defaultEdgeOptions:aZ,fitView:void 0!==aU&&aU,fitViewOptions:aV,onNodesDelete:J,onEdgesDelete:K,onNodeDragStart:G,onNodeDrag:H,onNodeDragStop:I,onSelectionDrag:N,onSelectionDragStart:M,onSelectionDragStop:O}),L&&h.createElement(am,{onSelectionChange:L}),aF,h.createElement(p,{proOptions:aY,position:aX})))});function bJ(a){return function(b){var c=(0,h.useState)(b),d=(0,f._)(c,2),e=d[0],g=d[1],i=(0,h.useCallback)(function(b){return g(function(c){return a(b,c)})},[]);return[e,g,i]}}bI.displayName="ReactFlow",(function(a){var b=a.children;return h.createElement(f.v,{createStore:f.w},b)}).displayName="ReactFlowProvider",bJ(f.y),bJ(f.z)}}])