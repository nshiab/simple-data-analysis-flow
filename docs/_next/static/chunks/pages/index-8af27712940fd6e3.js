(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(6168)}])},6168:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return N}});var d=c(5893),e=c(7294),f=c(9647),g=c(5362),h=c(4622),i=c(1799),j=c(9396),k=c(797),l=c(6902),m=c(5892),n=c(6703),o=[{id:"0",type:"newSimpleData",data:{simpleData:new n.P,args:{}},position:{x:0,y:0}}],p=[],q=(0,l.ZP)(function(a,b){return{nodeId:0,getNodeId:function(){var c=++b().nodeId;return a({nodeId:c}),c},handleStyle:{source:{height:10,width:10,bottom:-5},target:{height:10,width:10,bottom:-5,borderRadius:"0"}},nodes:o,edges:p,onNodesChange:function(c){var d=c.filter(function(a){return"remove"===a.type}).map(function(a){return a.id}),e=!0,f=!1,g=void 0;try{for(var h,i=d[Symbol.iterator]();!(e=(h=i.next()).done);e=!0){var j=h.value;b().updateNodeSimpleData(j,null)}}catch(k){f=!0,g=k}finally{try{e||null==i.return||i.return()}finally{if(f)throw g}}a({nodes:(0,m.y)(c,b().nodes)})},onEdgesChange:function(c){if(a({edges:(0,m.z)(c,b().edges)}),1===c.length&&"remove"===c[0].type){var d=c[0].id.split("-")[2].replace(/\D+/g,"");a({nodes:b().nodes.map(function(a){return a.id===d&&(a.data=(0,j.Z)((0,i.Z)({},a.data),{sourceSimpleData:null})),a})})}},onConnect:function(c){var d,e=b().nodes,f=null===(d=e.find(function(a){return a.id===c.source}))|| void 0===d?void 0:d.data.simpleData,g=(0,m.c)(c,[]);g[0].style={strokeWidth:5},a({edges:(0,k.Z)(b().edges).concat([g[0]]),nodes:e.map(function(a){return a.id===c.target&&(a.data=(0,j.Z)((0,i.Z)({},a.data),{sourceSimpleData:f?f.clone():null})),a})})},addCustomNode:function(c,d,e){var f=c.target.value;c.target.value=e;var g=b().nodes,h=g[g.length-1];"newSimpleData"===f?a({nodes:(0,k.Z)(g).concat([{id:d,type:"newSimpleData",data:{method:f,simpleData:new n.P,args:{}},position:{x:h.position.x,y:h.position.y+h.height+20}}])}):a({nodes:(0,k.Z)(g).concat([{id:d,type:"simpleDataMethod",data:{method:f,sourceSimpleData:null,simpleData:null,args:{}},position:{x:h.position.x,y:h.position.y+h.height+20}}])})},updateNodeArgs:function(c,d){var e=b().nodes.map(function(a){return a.id===c&&(a.data=(0,j.Z)((0,i.Z)({},a.data),{args:d})),a});a({nodes:e})},updateNodeSimpleData:function(c,d){var e=b().nodes.map(function(a){return a.id===c&&(a.data=(0,j.Z)((0,i.Z)({},a.data),{simpleData:d})),a}),f=b().edges.filter(function(a){return a.source===c}).map(function(a){return a.target});e.map(function(a){return f.includes(a.id)&&(a.data=(0,j.Z)((0,i.Z)({},a.data),{sourceSimpleData:d})),a}),a({nodes:e})}}}),r=q,s={newSimpleData:{category:"Importing"},loadDataFromUrl:{category:"Importing",arguments:[{name:"url",type:"text",optional:!1},{name:"autoType",type:"checkbox",defaultValue:!1},{name:"firstItem",type:"number",defaultValue:void 0},{name:"lastItem",type:"number",defaultValue:void 0}]},formatAllKeys:{category:"Cleaning",arguments:[]},renameKey:{category:"Cleaning",arguments:[{name:"oldKey",type:"keys",optional:!1},{name:"newKey",type:"text",optional:!1}]},checkValues:{category:"Cleaning",arguments:[{name:"nbItemsToCheck",type:"number"},{name:"randomize",type:"checkbox"}]},selectKeys:{category:"Selecting",arguments:[{name:"keys",type:"multipleKeys",optional:!1}]},summarize:{category:"Analyzing",arguments:[{name:"keyValue",type:"keys",defaultValue:void 0},{name:"keyCategory",type:"keys",defaultValue:void 0},{name:"summary",type:"select",defaultValue:void 0,options:[void 0,"count","min","max","sum","mean","median","deviation"]}]},excludeMissingValues:{category:"Cleaning",arguments:[{name:"key",type:"keys"}]},keepMissingValues:{category:"Cleaning",arguments:[{name:"key",type:"keys"}]},removeDuplicates:{category:"Cleaning",arguments:[{name:"key",type:"keys"},{name:"nbToKeep",type:"number",defaultValue:1}]},keepDuplicates:{category:"Cleaning",arguments:[{name:"key",type:"keys"}]},valuesToString:{category:"Cleaning",arguments:[{name:"key",type:"keys",optional:!1},]},valuesToInteger:{category:"Cleaning",arguments:[{name:"key",type:"keys",optional:!1},{name:"thousandSeparator",type:"text",defaultValue:",",width:10},{name:"decimalSeparator",type:"text",defaultValue:".",width:10},{name:"skipErrors",type:"checkbox"}]},valuesToFloat:{category:"Cleaning",arguments:[{name:"key",type:"keys",optional:!1},{name:"thousandSeparator",type:"text",defaultValue:",",width:10},{name:"decimalSeparator",type:"text",defaultValue:".",width:10},{name:"skipErrors",type:"checkbox"}]},valuesToDate:{category:"Cleaning",arguments:[{name:"key",type:"keys",optional:!1},{name:"format",type:"text",optional:!1},{name:"skipErrors",type:"checkbox"}]},datesToString:{category:"Cleaning",arguments:[{name:"key",type:"keys",optional:!1},{name:"format",type:"text",optional:!1},{name:"skipErrors",type:"checkbox"}]},replaceValues:{category:"Cleaning",arguments:[{name:"key",type:"keys",optional:!1},{name:"oldValue",type:"text",optional:!1,jsOption:!0},{name:"newValue",type:"text",optional:!1,jsOption:!0},{name:"method",type:"select",defaultValue:void 0,options:[void 0,"entireString","partialString"]},]},roundValues:{category:"Cleaning",arguments:[{name:"key",type:"keys",optional:!1},{name:"nbDigits",type:"number",defaultValue:1}]},modifyValues:{category:"Cleaning",arguments:[{name:"key",type:"keys",optional:!1},{name:"valueGenerator",type:"javascript",optional:!1,defaultValue:"(value) => {\n    \n    const modifiedValue = value\n    \n    return modifiedValue\n}"}]},modifyItems:{category:"Cleaning",arguments:[{name:"key",type:"keys",optional:!1},{name:"itemGenerator",type:"javascript",optional:!1,defaultValue:'(item) => {\n    \n    const modifiedValue = "Change me!"\n    \n    return modifiedValue\n}'}]},getChart:{category:"Visualizing",justClone:!0,htmlOutput:!0,arguments:[{name:"x",type:"keys",defaultValue:void 0,optional:!1},{name:"y",type:"keys",defaultValue:void 0,optional:!1},{name:"type",type:"select",defaultValue:void 0,options:[void 0,"dot","line","bar","barVertical","barHorizontal","box","boxVertical","boxHorizontal"],optional:!1},{name:"color",type:"keys",defaultValue:void 0},{name:"marginLeft",type:"number",defaultValue:void 0}]},describe:{category:"Analyzing",arguments:[]},showTable:{category:"Visualizing",justClone:!0,arguments:[{name:"nbItemsInTable",type:"number",defaultValue:5}]}};function t(){var a=r(),b=a.addCustomNode,c=a.getNodeId,f=(0,e.useMemo)(function(){var a={},b=!0,c=!1,d=void 0;try{for(var e,f=Object.keys(s)[Symbol.iterator]();!(b=(e=f.next()).done);b=!0){var g=e.value;0>Object.keys(a).indexOf(s[g].category)&&(a[s[g].category]=[])}}catch(h){c=!0,d=h}finally{try{b||null==f.return||f.return()}finally{if(c)throw d}}var i=!0,j=!1,k=void 0;try{for(var l,m=Object.keys(s)[Symbol.iterator]();!(i=(l=m.next()).done);i=!0){var n=l.value;a[s[n].category].push(n)}}catch(o){j=!0,k=o}finally{try{i||null==m.return||m.return()}finally{if(j)throw k}}return a},[s]);return(0,d.jsx)("div",{style:{borderTop:"1px solid black",paddingTop:5,paddingBottom:5,paddingLeft:5,display:"flex",flexWrap:"wrap",backgroundColor:"white"},children:Object.keys(f).map(function(a){return(0,d.jsxs)("select",{onChange:function(d){return b(d,"".concat(c()),a)},children:[(0,d.jsx)("option",{children:a}),f[a].sort().map(function(b){return(0,d.jsx)("option",{children:b},"methodCategory-".concat(a,"-").concat(b))})]},"methodCategory-".concat(a))})})}var u=c(7568),v=c(4051),w=c.n(v),x=c(2670),y=c(2882),z=c(4011),A=c(7906),B=c(3184),C=c(3816),D=c(7196),E=c(295),F={fontSize:"10px",padding:"5px"};function G(a){var b=a.keys,c=a.data;return(0,d.jsx)(y.Z,{component:z.Z,sx:{marginTop:"10px"},children:(0,d.jsxs)(A.Z,{size:"small",children:[(0,d.jsx)(B.Z,{children:(0,d.jsx)(C.Z,{children:b.map(function(a){return(0,d.jsx)(D.Z,{sx:(0,j.Z)((0,i.Z)({},F),{fontWeight:"bold"}),children:a},a)})})}),(0,d.jsx)(E.Z,{children:c.map(function(a,c){return(0,d.jsx)(C.Z,{children:b.map(function(b,e){var f;return(0,d.jsx)(D.Z,{sx:(0,j.Z)((0,i.Z)({},F),{color:"number"==typeof(f=a[b])?"blue":(0,x.Z)(f,Date)?"green":"black"}),children:String(a[b])},"tc-"+c+"-"+e)})},"tb-"+c)})})]})})}function H(a){var b=a.id,c=a.method,e=a.generateArgId,f=a.updateArgs,g=a.d,h=a.i,i=a.simpleData;return(0,d.jsx)("select",{id:e(b,h,c),onChange:function(){return f()},defaultValue:g.defaultValue,children:i?[void 0].concat((0,k.Z)(i.getKeys())).map(function(a,b){return(0,d.jsx)("option",{children:a},"".concat(c,"-option-").concat(b))}):null})}function I(a){var b=a.id,c=a.method,e=a.generateArgId,f=a.updateArgs,g=a.d,h=a.i,i=a.simpleData;return(0,d.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:i?i.getKeys().map(function(a,i){return(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center",border:"1px solid grey",borderRadius:5,padding:"5px 5px",margin:3},children:[(0,d.jsx)("div",{children:a}),(0,d.jsx)("input",{type:"checkbox",className:e(b,h,c),onChange:function(){return f()},style:{marginBottom:0},defaultChecked:g.defaultValue,value:a})]},"".concat(b,"-").concat(c,"-arg").concat(h,"-multipleKeys").concat(i))}):null})}function J(a){var b=a.id,c=a.method,f=a.generateArgId,g=a.updateArgs,h=a.d,i=a.i,j=(0,e.useState)(h.defaultValue?h.defaultValue:""),k=j[0],l=j[1],m=(0,e.useState)(0),n=m[0],o=m[1];return(0,e.useEffect)(function(){o(k.split("\n").length)},[k]),(0,d.jsx)("textarea",{id:f(b,i,c),rows:n,value:k,style:{resize:"none",fontSize:"12px",width:"350px"},onChange:function(a){l(a.target.value),g()}})}var K=c(5923),L={i8:"0.1.0"},M={newSimpleData:function(a){var b=a.id,c=(0,e.useState)(!1),g=c[0],h=c[1],i=(0,e.useState)(null),j=i[0],k=i[1],l=(0,e.useRef)();(0,e.useEffect)(function(){g||p(b,new n.P)},[g]);var o=r(),p=o.updateNodeSimpleData,q=o.handleStyle;return(0,d.jsxs)("div",{style:{backgroundColor:"white",border:"1px solid black",borderRadius:5,padding:10},children:[(0,d.jsx)("div",{style:{fontWeight:"bold",textAlign:"center",marginBottom:10},children:"New SimpleData"}),(0,d.jsx)("button",{style:{display:"block",marginLeft:"auto",marginRight:"auto"},onClick:function(){return h(!g)},children:"Add data manually"}),g?(0,d.jsx)("div",{style:{display:"flex",flexDirection:"column",marginTop:10},children:(0,d.jsx)("input",{ref:l,style:{width:200,textAlign:"center"},placeholder:"Paste a JSON array of objects",onChange:function(){try{p(b,new n.P({data:JSON.parse(l.current.value)})),k(null)}catch(a){k("Error: ".concat(a.message))}}})}):null,j?(0,d.jsx)("div",{style:{maxWidth:200,color:"red",marginTop:10},children:j}):null,(0,d.jsx)(f.HH,{type:"source",position:m.P.Bottom,id:"a",style:q.source})]})},simpleDataMethod:function(a){var b=a.id,c=a.data,g=(0,e.useState)(null),h=g[0],i=g[1],j=(0,e.useState)(null),k=j[0],l=j[1],n=(0,e.useCallback)(function(){var a=c.simpleData.getLength(),b=a-(c.args.nbItemsInTable?c.args.nbItemsInTable:5);return"".concat(a," items in total").concat(b>0?" (".concat(b," hidden)"):"")},[c.simpleData,c.args]),o=(0,e.useCallback)(function(a,b,c){return"node".concat(a,"method").concat(c,"Arg").concat(b)},[]),p=r(),q=p.updateNodeSimpleData,t=p.updateNodeArgs,v=p.handleStyle,x=(0,e.useCallback)(function(){for(var a={},d=0;d<s[c.method].arguments.length;d++)if(["text","number","keys","select"].includes(s[c.method].arguments[d].type)){var e=document.querySelector("#".concat(o(b,d,c.method))).value;s[c.method].arguments[d].jsOption&&document.querySelector("#".concat(o(b,d,c.method),"-JS")).checked&&(e=Function("return ".concat(e))()),"number"===s[c.method].arguments[d].type&&(e=parseInt(e),e=isNaN(e)?void 0:e),a[s[c.method].arguments[d].name]=""===e?void 0:e}else if("javascript"===s[c.method].arguments[d].type){var f=document.querySelector("#".concat(o(b,d,c.method))).value;try{f=Function("return ".concat(f))(),a[s[c.method].arguments[d].name]=f}catch(g){l(g.message)}}else"checkbox"===s[c.method].arguments[d].type?a[s[c.method].arguments[d].name]=document.querySelector("#".concat(o(b,d,c.method))).checked:"multipleKeys"===s[c.method].arguments[d].type&&(a[s[c.method].arguments[d].name]=Array.from(document.querySelectorAll(".".concat(o(b,d,c.method)))).filter(function(a){return a.checked}).map(function(a){return a.value}));t(b,a)},[c.method]);return(0,e.useEffect)(function(){a.apply(this,arguments);function a(){return(a=(0,u.Z)(w().mark(function a(){var d,e,f,g,h,j,k,m;return w().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(["","Choose a method"].includes(c.method)){a.next=58;break}if(d=!1,0!==s[c.method].arguments.filter(function(a){return!1===a.optional}).length){a.next=6;break}d=!0,a.next=34;break;case 6:e=!0,f=!1,g=void 0,a.prev=7,h=s[c.method].arguments.filter(function(a){return!1===a.optional})[Symbol.iterator]();case 9:if(e=(j=h.next()).done){a.next=20;break}if(k=j.value,!c.args[k.name]){a.next=15;break}d=!0,a.next=17;break;case 15:return d=!1,a.abrupt("break",20);case 17:e=!0,a.next=9;break;case 20:a.next=26;break;case 22:a.prev=22,a.t0=a.catch(7),f=!0,g=a.t0;case 26:a.prev=26,a.prev=27,e||null==h.return||h.return();case 29:if(a.prev=29,!f){a.next=32;break}throw g;case 32:return a.finish(29);case 33:return a.finish(26);case 34:if(!(c.sourceSimpleData&&d)){a.next=55;break}if(a.prev=35,!s[c.method].justClone){a.next=40;break}a.t1=c.sourceSimpleData.clone(),a.next=43;break;case 40:return a.next=42,c.sourceSimpleData.clone()[c.method](c.args);case 42:a.t1=a.sent;case 43:m=a.t1,console.log("triggered",c.method),q(b,m),s[c.method].htmlOutput?i(c.sourceSimpleData.clone()[c.method](c.args)):i(null),l(null),a.next=53;break;case 50:a.prev=50,a.t2=a.catch(35),l(a.t2.message);case 53:a.next=56;break;case 55:i(null),q(b,null,{});case 56:a.next=59;break;case 58:i(null),q(b,null);case 59:case"end":return a.stop()}},a,null,[[7,22,26,34],[27,,29,33],[35,50]])}))).apply(this,arguments)}},[c.method,c.sourceSimpleData,c.args]),(0,d.jsxs)("div",{children:[(0,d.jsx)(f.HH,{type:"target",position:m.P.Top,id:"a",style:v.target}),(0,d.jsxs)("div",{style:{backgroundColor:"white",border:"1px solid black",borderRadius:5,padding:10,maxWidth:["showTable","getChart","modifyValues","modifyItems"].includes(c.method)?1e3:300},children:[(0,d.jsx)("div",{style:{fontWeight:"bold",textAlign:"center",marginBottom:10},children:c.method}),(0,d.jsx)("div",{style:{marginTop:10},children:s[c.method].arguments.map(function(a,e){var f,g=(0,d.jsx)("div",{children:"".concat(a.name,":\xa0")});return"text"===a.type?(f=(0,d.jsx)("input",{id:o(b,e,c.method),onChange:function(){return x()},defaultValue:a.defaultValue,style:{width:a.width?a.width:void 0}}),a.jsOption&&(f=(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[f,(0,d.jsx)("div",{style:{marginLeft:4},children:"JS?"}),(0,d.jsx)("input",{id:"".concat(o(b,e,c.method),"-JS"),onChange:function(){return x()},type:"checkbox"})]}))):"number"===a.type?f=(0,d.jsx)("input",{id:o(b,e,c.method),onChange:function(){return x()},type:"number",defaultValue:a.defaultValue,style:{width:50}}):"checkbox"===a.type?f=(0,d.jsx)("input",{type:"checkbox",id:o(b,e,c.method),onChange:function(){return x()},style:{marginBottom:0},defaultChecked:a.defaultValue}):"keys"===a.type?f=(0,d.jsx)(H,{id:b,method:c.method,generateArgId:o,updateArgs:x,d:a,i:e,simpleData:c.sourceSimpleData}):"multipleKeys"===a.type?f=(0,d.jsx)(I,{id:b,method:c.method,generateArgId:o,updateArgs:x,d:a,i:e,simpleData:c.sourceSimpleData}):"select"===a.type?f=(0,d.jsx)("select",{id:o(b,e,c.method),onChange:function(){return x()},defaultValue:a.defaultValue,children:a.options.map(function(a,b){return(0,d.jsx)("option",{children:a},"".concat(c.method,"-option-").concat(b))})}):"javascript"===a.type&&(f=(0,d.jsx)(J,{id:b,method:c.method,generateArgId:o,updateArgs:x,d:a,i:e})),(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center",fontSize:12,marginTop:5},children:[g,f]},o(b,e,c.method))})}),"showTable"===c.method&&c.simpleData?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(G,{keys:c.simpleData.getKeys(),data:c.simpleData.getData().slice(0,c.args.nbItemsInTable?c.args.nbItemsInTable:5)}),(0,d.jsx)("div",{style:{textAlign:"right",marginTop:5,fontSize:12},children:n()})]}):null,(0,d.jsx)("div",{dangerouslySetInnerHTML:{__html:h}}),k?(0,d.jsx)("div",{style:{maxWidth:200,color:"red",marginTop:10},children:k}):null]}),(0,d.jsx)(f.HH,{style:v.source,position:m.P.Bottom,id:"a"})]})}};function N(){var a=r(),b=a.nodes,c=a.edges,e=a.onNodesChange,i=a.onEdgesChange,j=a.onConnect;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{style:{position:"absolute",top:0,left:0,zIndex:10,width:"100vw"},children:[(0,d.jsxs)("div",{style:{padding:5,fontSize:12,backgroundColor:"white"},children:["Welcome on ",(0,d.jsx)("a",{href:"https://github.com/nshiab/simple-data-analysis-flow",children:"Simple Data Analysis Flow"}),"! The aim of this project is to allow non-coders to use the open source library ",(0,d.jsx)("a",{href:"https://github.com/nshiab/simple-data-analysis.js",children:"simple-data-analysis.js"})," with a node-based editor running in the browser. If you use this project, show off your work and tag me on ",(0,d.jsx)("a",{href:"https://twitter.com/NaelShiab",children:"Twitter"})," or ",(0,d.jsx)("a",{href:"https://www.linkedin.com/in/naelshiab/",children:"LinkedIn"}),"! Feel to start a conversation, raise an issue or contribute to the ",(0,d.jsx)("a",{href:"https://github.com/nshiab/simple-data-analysis-flow",children:"code on Github"}),". / Version ",L.i8," with simple-data-analysis@",K.i8]}),(0,d.jsx)(t,{})]}),(0,d.jsx)("div",{style:{position:"relative"},children:(0,d.jsx)("div",{style:{width:"100vw",height:"100vh"},children:(0,d.jsxs)(f.ZP,{nodeTypes:M,nodes:b,edges:c,onNodesChange:e,onEdgesChange:i,onConnect:j,maxZoom:2,fitView:!0,children:[(0,d.jsx)(g.Z,{}),(0,d.jsx)(h.Z,{})]})})})]})}}},function(a){a.O(0,[770,95,774,888,179],function(){var b;return a(a.s=8312)}),_N_E=a.O()}])